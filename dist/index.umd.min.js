(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["index"]=t(require("vue")):e["index"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(e=>(()=>{var t={679:function(e,t){var n,r,o;(function(i,a){r=[],n=a,o="function"===typeof n?n.apply(t,r):n,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(u){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=i.exec(u.stack)||a.exec(u.stack),l=s&&s[1]||!1,p=s&&s[2]||!1,c=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");l===c&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(p-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===l)return h[d];if(l===c&&h[d].innerHTML&&h[d].innerHTML.trim()===o)return h[d]}return null}}return e}))},129:function(e){
/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:17.411Z
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return l(e)||p(e)||c(e)||d()}function l(e){if(Array.isArray(e))return h(e)}function p(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u="undefined"!==typeof window&&"undefined"!==typeof window.document,m=u?window:{},f=!(!u||!m.document.documentElement)&&"ontouchstart"in m.document.documentElement,g=!!u&&"PointerEvent"in m,b="cropper",y="all",C="crop",v="move",A="zoom",w="e",x="w",O="s",B="n",E="ne",S="nw",j="se",M="sw",P="".concat(b,"-crop"),k="".concat(b,"-disabled"),F="".concat(b,"-hidden"),D="".concat(b,"-hide"),T="".concat(b,"-invisible"),I="".concat(b,"-modal"),N="".concat(b,"-move"),U="".concat(b,"Action"),L="".concat(b,"Preview"),R="crop",z="move",W="none",V="crop",H="cropend",$="cropmove",X="cropstart",Y="dblclick",q=f?"touchstart":"mousedown",_=f?"touchmove":"mousemove",G=f?"touchend touchcancel":"mouseup",Z=g?"pointerdown":q,Q=g?"pointermove":_,J=g?"pointerup pointercancel":G,K="ready",ee="resize",te="wheel",ne="zoom",re="image/jpeg",oe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ie=/^data:/,ae=/^data:image\/jpeg;base64,/,se=/^img|canvas$/i,le=200,pe=100,ce={viewMode:0,dragMode:R,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:le,minContainerHeight:pe,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},he='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',de=Number.isNaN||m.isNaN;function ue(e){return"number"===typeof e&&!de(e)}var me=function(e){return e>0&&e<1/0};function fe(e){return"undefined"===typeof e}function ge(e){return"object"===n(e)&&null!==e}var be=Object.prototype.hasOwnProperty;function ye(e){if(!ge(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&be.call(n,"isPrototypeOf")}catch(r){return!1}}function Ce(e){return"function"===typeof e}var ve=Array.prototype.slice;function Ae(e){return Array.from?Array.from(e):ve.call(e)}function we(e,t){return e&&Ce(t)&&(Array.isArray(e)||ue(e.length)?Ae(e).forEach((function(n,r){t.call(e,n,r,e)})):ge(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var xe=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ge(e)&&n.length>0&&n.forEach((function(t){ge(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},Oe=/\.\d*(?:0|9){12}\d*$/;function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Oe.test(e)?Math.round(e*t)/t:e}var Ee=/^width|height|left|top|marginLeft|marginTop$/;function Se(e,t){var n=e.style;we(t,(function(e,t){Ee.test(t)&&ue(e)&&(e="".concat(e,"px")),n[t]=e}))}function je(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Me(e,t){if(t)if(ue(e.length))we(e,(function(e){Me(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Pe(e,t){t&&(ue(e.length)?we(e,(function(e){Pe(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function ke(e,t,n){t&&(ue(e.length)?we(e,(function(e){ke(e,t,n)})):n?Me(e,t):Pe(e,t))}var Fe=/([a-z\d])([A-Z])/g;function De(e){return e.replace(Fe,"$1-$2").toLowerCase()}function Te(e,t){return ge(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(De(t)))}function Ie(e,t,n){ge(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(De(t)),n)}function Ne(e,t){if(ge(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(De(t)))}var Ue=/\s\s*/,Le=function(){var e=!1;if(u){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});m.addEventListener("test",n,r),m.removeEventListener("test",n,r)}return e}();function Re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(Ue).forEach((function(t){if(!Le){var i=e.listeners;i&&i[t]&&i[t][n]&&(o=i[t][n],delete i[t][n],0===Object.keys(i[t]).length&&delete i[t],0===Object.keys(i).length&&delete e.listeners)}e.removeEventListener(t,o,r)}))}function ze(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(Ue).forEach((function(t){if(r.once&&!Le){var i=e.listeners,a=void 0===i?{}:i;o=function(){delete a[t][n],e.removeEventListener(t,o,r);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];n.apply(e,s)},a[t]||(a[t]={}),a[t][n]&&e.removeEventListener(t,a[t][n],r),a[t][n]=o,e.listeners=a}e.addEventListener(t,o,r)}))}function We(e,t,n){var r;return Ce(Event)&&Ce(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function Ve(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var He=m.location,$e=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Xe(e){var t=e.match($e);return null!==t&&(t[1]!==He.protocol||t[2]!==He.hostname||t[3]!==He.port)}function Ye(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function qe(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,o=e.translateX,i=e.translateY,a=[];ue(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),ue(i)&&0!==i&&a.push("translateY(".concat(i,"px)")),ue(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),ue(n)&&1!==n&&a.push("scaleX(".concat(n,")")),ue(r)&&1!==r&&a.push("scaleY(".concat(r,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function _e(e){var n=t({},e),r=0;return we(e,(function(e,t){delete n[t],we(n,(function(t){var n=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),i=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+o*o),l=Math.sqrt(i*i+a*a),p=(l-s)/s;Math.abs(p)>Math.abs(r)&&(r=p)}))})),r}function Ge(e,n){var r=e.pageX,o=e.pageY,i={endX:r,endY:o};return n?i:t({startX:r,startY:o},i)}function Ze(e){var t=0,n=0,r=0;return we(e,(function(e){var o=e.startX,i=e.startY;t+=o,n+=i,r+=1})),t/=r,n/=r,{pageX:t,pageY:n}}function Qe(e){var t=e.aspectRatio,n=e.height,r=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",i=me(r),a=me(n);if(i&&a){var s=n*t;"contain"===o&&s>r||"cover"===o&&s<r?n=r/t:r=n*t}else i?n=r/t:a&&(r=n*t);return{width:r,height:n}}function Je(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,90===r)return{width:n,height:t};var o=r%90*Math.PI/180,i=Math.sin(o),a=Math.cos(o),s=t*a+n*i,l=t*i+n*a;return r>90?{width:l,height:s}:{width:s,height:l}}function Ke(e,t,n,r){var o=t.aspectRatio,i=t.naturalWidth,a=t.naturalHeight,l=t.rotate,p=void 0===l?0:l,c=t.scaleX,h=void 0===c?1:c,d=t.scaleY,u=void 0===d?1:d,m=n.aspectRatio,f=n.naturalWidth,g=n.naturalHeight,b=r.fillColor,y=void 0===b?"transparent":b,C=r.imageSmoothingEnabled,v=void 0===C||C,A=r.imageSmoothingQuality,w=void 0===A?"low":A,x=r.maxWidth,O=void 0===x?1/0:x,B=r.maxHeight,E=void 0===B?1/0:B,S=r.minWidth,j=void 0===S?0:S,M=r.minHeight,P=void 0===M?0:M,k=document.createElement("canvas"),F=k.getContext("2d"),D=Qe({aspectRatio:m,width:O,height:E}),T=Qe({aspectRatio:m,width:j,height:P},"cover"),I=Math.min(D.width,Math.max(T.width,f)),N=Math.min(D.height,Math.max(T.height,g)),U=Qe({aspectRatio:o,width:O,height:E}),L=Qe({aspectRatio:o,width:j,height:P},"cover"),R=Math.min(U.width,Math.max(L.width,i)),z=Math.min(U.height,Math.max(L.height,a)),W=[-R/2,-z/2,R,z];return k.width=Be(I),k.height=Be(N),F.fillStyle=y,F.fillRect(0,0,I,N),F.save(),F.translate(I/2,N/2),F.rotate(p*Math.PI/180),F.scale(h,u),F.imageSmoothingEnabled=v,F.imageSmoothingQuality=w,F.drawImage.apply(F,[e].concat(s(W.map((function(e){return Math.floor(Be(e))}))))),F.restore(),k}var et=String.fromCharCode;function tt(e,t,n){var r="";n+=t;for(var o=t;o<n;o+=1)r+=et(e.getUint8(o));return r}var nt=/^data:.*,/;function rt(e){var t=e.replace(nt,""),n=atob(t),r=new ArrayBuffer(n.length),o=new Uint8Array(r);return we(o,(function(e,t){o[t]=n.charCodeAt(t)})),r}function ot(e,t){var n=[],r=8192,o=new Uint8Array(e);while(o.length>0)n.push(et.apply(null,Ae(o.subarray(0,r)))),o=o.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function it(e){var t,n=new DataView(e);try{var r,o,i;if(255===n.getUint8(0)&&216===n.getUint8(1)){var a=n.byteLength,s=2;while(s+1<a){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){o=s;break}s+=1}}if(o){var l=o+4,p=o+10;if("Exif"===tt(n,l,4)){var c=n.getUint16(p);if(r=18761===c,(r||19789===c)&&42===n.getUint16(p+2,r)){var h=n.getUint32(p+4,r);h>=8&&(i=p+h)}}}if(i){var d,u,m=n.getUint16(i,r);for(u=0;u<m;u+=1)if(d=i+12*u+2,274===n.getUint16(d,r)){d+=8,t=n.getUint16(d,r),n.setUint16(d,1,r);break}}}catch(f){t=1}return t}function at(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var st={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,r=this.cropper,o=Number(t.minContainerWidth),i=Number(t.minContainerHeight);Me(r,F),Pe(e,F);var a={width:Math.max(n.offsetWidth,o>=0?o:le),height:Math.max(n.offsetHeight,i>=0?i:pe)};this.containerData=a,Se(r,{width:a.width,height:a.height}),Me(e,F),Pe(r,F)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,r=Math.abs(t.rotate)%180===90,o=r?t.naturalHeight:t.naturalWidth,i=r?t.naturalWidth:t.naturalHeight,a=o/i,s=e.width,l=e.height;e.height*a>e.width?3===n?s=e.height*a:l=e.width/a:3===n?l=e.width/a:s=e.height*a;var p={aspectRatio:a,naturalWidth:o,naturalHeight:i,width:s,height:l};this.canvasData=p,this.limited=1===n||2===n,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(e.width-p.width)/2,p.top=(e.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=xe({},p)},limitCanvas:function(e,t){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=n.viewMode,s=o.aspectRatio,l=this.cropped&&i;if(e){var p=Number(n.minCanvasWidth)||0,c=Number(n.minCanvasHeight)||0;a>1?(p=Math.max(p,r.width),c=Math.max(c,r.height),3===a&&(c*s>p?p=c*s:c=p/s)):a>0&&(p?p=Math.max(p,l?i.width:0):c?c=Math.max(c,l?i.height:0):l&&(p=i.width,c=i.height,c*s>p?p=c*s:c=p/s));var h=Qe({aspectRatio:s,width:p,height:c});p=h.width,c=h.height,o.minWidth=p,o.minHeight=c,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(a>(l?0:1)){var d=r.width-o.width,u=r.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,u),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,u),l&&this.limited&&(o.minLeft=Math.min(i.left,i.left+(i.width-o.width)),o.minTop=Math.min(i.top,i.top+(i.height-o.height)),o.maxLeft=i.left,o.maxTop=i.top,2===a&&(o.width>=r.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=r.height&&(o.minTop=Math.min(0,u),o.maxTop=Math.max(0,u))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=r.width,o.maxTop=r.height},renderCanvas:function(e,t){var n=this.canvasData,r=this.imageData;if(t){var o=Je({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),i=o.width,a=o.height,s=n.width*(i/n.naturalWidth),l=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=i/a,n.naturalWidth=i,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Se(this.canvas,xe({width:n.width,height:n.height},qe({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,r=n.naturalWidth*(t.width/t.naturalWidth),o=n.naturalHeight*(t.height/t.naturalHeight);xe(n,{width:r,height:o,left:(t.width-r)/2,top:(t.height-o)/2}),Se(this.image,xe({width:n.width,height:n.height},qe(xe({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};n&&(t.height*n>t.width?o.height=o.width/n:o.width=o.height*n),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*r),o.height=Math.max(o.minHeight,o.height*r),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=xe({},o)},limitCropBox:function(e,t){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,p=Number(n.minCropBoxHeight)||0,c=a?Math.min(r.width,o.width,o.width+o.left,r.width-o.left):r.width,h=a?Math.min(r.height,o.height,o.height+o.top,r.height-o.top):r.height;l=Math.min(l,r.width),p=Math.min(p,r.height),s&&(l&&p?p*s>l?p=l/s:l=p*s:l?p=l/s:p&&(l=p*s),h*s>c?h=c/s:c=h*s),i.minWidth=Math.min(l,c),i.minHeight=Math.min(p,h),i.maxWidth=c,i.maxHeight=h}t&&(a?(i.minLeft=Math.max(0,o.left),i.minTop=Math.max(0,o.top),i.maxLeft=Math.min(r.width,o.left+o.width)-i.width,i.maxTop=Math.min(r.height,o.top+o.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=r.width-i.width,i.maxTop=r.height-i.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&Ie(this.face,U,n.width>=t.width&&n.height>=t.height?v:y),Se(this.cropBox,xe({width:n.width,height:n.height},qe({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),We(this.element,V,this.getData())}},lt={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,r=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",i=document.createElement("img");if(t&&(i.crossOrigin=t),i.src=r,i.alt=o,this.viewBox.appendChild(i),this.viewBoxImage=i,n){var a=n;"string"===typeof n?a=e.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,we(a,(function(e){var n=document.createElement("img");Ie(e,L,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=r,n.alt=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){we(this.previews,(function(e){var t=Te(e,L);Se(e,{width:t.width,height:t.height}),e.innerHTML=t.html,Ne(e,L)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,r=n.width,o=n.height,i=e.width,a=e.height,s=n.left-t.left-e.left,l=n.top-t.top-e.top;this.cropped&&!this.disabled&&(Se(this.viewBoxImage,xe({width:i,height:a},qe(xe({translateX:-s,translateY:-l},e)))),we(this.previews,(function(t){var n=Te(t,L),p=n.width,c=n.height,h=p,d=c,u=1;r&&(u=p/r,d=o*u),o&&d>c&&(u=c/o,h=r*u,d=c),Se(t,{width:h,height:d}),Se(t.getElementsByTagName("img")[0],xe({width:i*u,height:a*u},qe(xe({translateX:-s*u,translateY:-l*u},e))))})))}},pt={bind:function(){var e=this.element,t=this.options,n=this.cropper;Ce(t.cropstart)&&ze(e,X,t.cropstart),Ce(t.cropmove)&&ze(e,$,t.cropmove),Ce(t.cropend)&&ze(e,H,t.cropend),Ce(t.crop)&&ze(e,V,t.crop),Ce(t.zoom)&&ze(e,ne,t.zoom),ze(n,Z,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ze(n,te,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ze(n,Y,this.onDblclick=this.dblclick.bind(this)),ze(e.ownerDocument,Q,this.onCropMove=this.cropMove.bind(this)),ze(e.ownerDocument,J,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ze(window,ee,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;Ce(t.cropstart)&&Re(e,X,t.cropstart),Ce(t.cropmove)&&Re(e,$,t.cropmove),Ce(t.cropend)&&Re(e,H,t.cropend),Ce(t.crop)&&Re(e,V,t.crop),Ce(t.zoom)&&Re(e,ne,t.zoom),Re(n,Z,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Re(n,te,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Re(n,Y,this.onDblclick),Re(e.ownerDocument,Q,this.onCropMove),Re(e.ownerDocument,J,this.onCropEnd),t.responsive&&Re(window,ee,this.onResize)}},ct={resize:function(){if(!this.disabled){var e,t,n=this.options,r=this.container,o=this.containerData,i=r.offsetWidth/o.width,a=r.offsetHeight/o.height,s=Math.abs(i-1)>Math.abs(a-1)?i:a;if(1!==s)n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(we(e,(function(t,n){e[n]=t*s}))),this.setCropBoxData(we(t,(function(e,n){t[n]=e*s}))))}},dblclick:function(){this.disabled||this.options.dragMode===W||this.setDragMode(je(this.dragBox,P)?z:R)},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(ue(t)&&1!==t||ue(n)&&0!==n||e.ctrlKey))){var r,o=this.options,i=this.pointers;e.changedTouches?we(e.changedTouches,(function(e){i[e.identifier]=Ge(e)})):i[e.pointerId||0]=Ge(e),r=Object.keys(i).length>1&&o.zoomable&&o.zoomOnTouch?A:Te(e.target,U),oe.test(r)&&!1!==We(this.element,X,{originalEvent:e,action:r})&&(e.preventDefault(),this.action=r,this.cropping=!1,r===C&&(this.cropping=!0,Me(this.dragBox,I)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==We(this.element,$,{originalEvent:e,action:t})&&(e.changedTouches?we(e.changedTouches,(function(e){xe(n[e.identifier]||{},Ge(e,!0))})):xe(n[e.pointerId||0]||{},Ge(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?we(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,ke(this.dragBox,I,this.cropped&&this.options.modal)),We(this.element,H,{originalEvent:e,action:t}))}}},ht={change:function(e){var t,n=this.options,r=this.canvasData,o=this.containerData,i=this.cropBoxData,a=this.pointers,s=this.action,l=n.aspectRatio,p=i.left,c=i.top,h=i.width,d=i.height,u=p+h,m=c+d,f=0,g=0,b=o.width,P=o.height,k=!0;!l&&e.shiftKey&&(l=h&&d?h/d:1),this.limited&&(f=i.minLeft,g=i.minTop,b=f+Math.min(o.width,r.width,r.left+r.width),P=g+Math.min(o.height,r.height,r.top+r.height));var D=a[Object.keys(a)[0]],T={x:D.endX-D.startX,y:D.endY-D.startY},I=function(e){switch(e){case w:u+T.x>b&&(T.x=b-u);break;case x:p+T.x<f&&(T.x=f-p);break;case B:c+T.y<g&&(T.y=g-c);break;case O:m+T.y>P&&(T.y=P-m);break}};switch(s){case y:p+=T.x,c+=T.y;break;case w:if(T.x>=0&&(u>=b||l&&(c<=g||m>=P))){k=!1;break}I(w),h+=T.x,h<0&&(s=x,h=-h,p-=h),l&&(d=h/l,c+=(i.height-d)/2);break;case B:if(T.y<=0&&(c<=g||l&&(p<=f||u>=b))){k=!1;break}I(B),d-=T.y,c+=T.y,d<0&&(s=O,d=-d,c-=d),l&&(h=d*l,p+=(i.width-h)/2);break;case x:if(T.x<=0&&(p<=f||l&&(c<=g||m>=P))){k=!1;break}I(x),h-=T.x,p+=T.x,h<0&&(s=w,h=-h,p-=h),l&&(d=h/l,c+=(i.height-d)/2);break;case O:if(T.y>=0&&(m>=P||l&&(p<=f||u>=b))){k=!1;break}I(O),d+=T.y,d<0&&(s=B,d=-d,c-=d),l&&(h=d*l,p+=(i.width-h)/2);break;case E:if(l){if(T.y<=0&&(c<=g||u>=b)){k=!1;break}I(B),d-=T.y,c+=T.y,h=d*l}else I(B),I(w),T.x>=0?u<b?h+=T.x:T.y<=0&&c<=g&&(k=!1):h+=T.x,T.y<=0?c>g&&(d-=T.y,c+=T.y):(d-=T.y,c+=T.y);h<0&&d<0?(s=M,d=-d,h=-h,c-=d,p-=h):h<0?(s=S,h=-h,p-=h):d<0&&(s=j,d=-d,c-=d);break;case S:if(l){if(T.y<=0&&(c<=g||p<=f)){k=!1;break}I(B),d-=T.y,c+=T.y,h=d*l,p+=i.width-h}else I(B),I(x),T.x<=0?p>f?(h-=T.x,p+=T.x):T.y<=0&&c<=g&&(k=!1):(h-=T.x,p+=T.x),T.y<=0?c>g&&(d-=T.y,c+=T.y):(d-=T.y,c+=T.y);h<0&&d<0?(s=j,d=-d,h=-h,c-=d,p-=h):h<0?(s=E,h=-h,p-=h):d<0&&(s=M,d=-d,c-=d);break;case M:if(l){if(T.x<=0&&(p<=f||m>=P)){k=!1;break}I(x),h-=T.x,p+=T.x,d=h/l}else I(O),I(x),T.x<=0?p>f?(h-=T.x,p+=T.x):T.y>=0&&m>=P&&(k=!1):(h-=T.x,p+=T.x),T.y>=0?m<P&&(d+=T.y):d+=T.y;h<0&&d<0?(s=E,d=-d,h=-h,c-=d,p-=h):h<0?(s=j,h=-h,p-=h):d<0&&(s=S,d=-d,c-=d);break;case j:if(l){if(T.x>=0&&(u>=b||m>=P)){k=!1;break}I(w),h+=T.x,d=h/l}else I(O),I(w),T.x>=0?u<b?h+=T.x:T.y>=0&&m>=P&&(k=!1):h+=T.x,T.y>=0?m<P&&(d+=T.y):d+=T.y;h<0&&d<0?(s=S,d=-d,h=-h,c-=d,p-=h):h<0?(s=M,h=-h,p-=h):d<0&&(s=E,d=-d,c-=d);break;case v:this.move(T.x,T.y),k=!1;break;case A:this.zoom(_e(a),e),k=!1;break;case C:if(!T.x||!T.y){k=!1;break}t=Ve(this.cropper),p=D.startX-t.left,c=D.startY-t.top,h=i.minWidth,d=i.minHeight,T.x>0?s=T.y>0?j:E:T.x<0&&(p-=h,s=T.y>0?M:S),T.y<0&&(c-=d),this.cropped||(Pe(this.cropBox,F),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}k&&(i.width=h,i.height=d,i.left=p,i.top=c,this.action=s,this.renderCropBox()),we(a,(function(e){e.startX=e.endX,e.startY=e.endY}))}},dt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Me(this.dragBox,I),Pe(this.cropBox,F),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=xe({},this.initialImageData),this.canvasData=xe({},this.initialCanvasData),this.cropBoxData=xe({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(xe(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Pe(this.dragBox,I),Me(this.cropBox,F)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,we(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Pe(this.cropper,k)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Me(this.cropper,k)),this},destroy:function(){var e=this.element;return e[b]?(e[b]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=n.left,o=n.top;return this.moveTo(fe(e)?e:r+Number(e),fe(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(ue(e)&&(n.left=e,r=!0),ue(t)&&(n.top=t,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=Number(e),e=e<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var r=this.options,o=this.canvasData,i=o.width,a=o.height,s=o.naturalWidth,l=o.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&r.zoomable){var p=s*e,c=l*e;if(!1===We(this.element,ne,{ratio:e,oldRatio:i/s,originalEvent:n}))return this;if(n){var h=this.pointers,d=Ve(this.cropper),u=h&&Object.keys(h).length?Ze(h):{pageX:n.pageX,pageY:n.pageY};o.left-=(p-i)*((u.pageX-d.left-o.left)/i),o.top-=(c-a)*((u.pageY-d.top-o.top)/a)}else ye(t)&&ue(t.x)&&ue(t.y)?(o.left-=(p-i)*((t.x-o.left)/i),o.top-=(c-a)*((t.y-o.top)/a)):(o.left-=(p-i)/2,o.top-=(c-a)/2);o.width=p,o.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),ue(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,ue(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(ue(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(ue(e)&&(n.scaleX=e,r=!0),ue(t)&&(n.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,o=this.canvasData,i=this.cropBoxData;if(this.ready&&this.cropped){e={x:i.left-o.left,y:i.top-o.top,width:i.width,height:i.height};var a=r.width/r.naturalWidth;if(we(e,(function(t,n){e[n]=t/a})),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=r.rotate||0),n.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,r=this.canvasData,o={};if(this.ready&&!this.disabled&&ye(e)){var i=!1;t.rotatable&&ue(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,i=!0),t.scalable&&(ue(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,i=!0),ue(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,i=!0)),i&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;ue(e.x)&&(o.left=e.x*a+r.left),ue(e.y)&&(o.top=e.y*a+r.top),ue(e.width)&&(o.width=e.width*a),ue(e.height)&&(o.height=e.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?xe({},this.containerData):{}},getImageData:function(){return this.sized?xe({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&we(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&ye(e)&&(ue(e.left)&&(t.left=e.left),ue(e.top)&&(t.top=e.top),ue(e.width)?(t.width=e.width,t.height=e.width/n):ue(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,r=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ye(e)&&(ue(e.left)&&(r.left=e.left),ue(e.top)&&(r.top=e.top),ue(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),ue(e.height)&&e.height!==r.height&&(n=!0,r.height=e.height),o&&(t?r.height=r.width/o:n&&(r.width=r.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=Ke(this.image,this.imageData,t,e);if(!this.cropped)return n;var r=this.getData(),o=r.x,i=r.y,a=r.width,l=r.height,p=n.width/Math.floor(t.naturalWidth);1!==p&&(o*=p,i*=p,a*=p,l*=p);var c=a/l,h=Qe({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=Qe({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),u=Qe({aspectRatio:c,width:e.width||(1!==p?n.width:a),height:e.height||(1!==p?n.height:l)}),m=u.width,f=u.height;m=Math.min(h.width,Math.max(d.width,m)),f=Math.min(h.height,Math.max(d.height,f));var g=document.createElement("canvas"),b=g.getContext("2d");g.width=Be(m),g.height=Be(f),b.fillStyle=e.fillColor||"transparent",b.fillRect(0,0,m,f);var y=e.imageSmoothingEnabled,C=void 0===y||y,v=e.imageSmoothingQuality;b.imageSmoothingEnabled=C,v&&(b.imageSmoothingQuality=v);var A,w,x,O,B,E,S=n.width,j=n.height,M=o,P=i;M<=-a||M>S?(M=0,A=0,x=0,B=0):M<=0?(x=-M,M=0,A=Math.min(S,a+M),B=A):M<=S&&(x=0,A=Math.min(a,S-M),B=A),A<=0||P<=-l||P>j?(P=0,w=0,O=0,E=0):P<=0?(O=-P,P=0,w=Math.min(j,l+P),E=w):P<=j&&(O=0,w=Math.min(l,j-P),E=w);var k=[M,P,A,w];if(B>0&&E>0){var F=m/a;k.push(x*F,O*F,B*F,E*F)}return b.drawImage.apply(b,[n].concat(s(k.map((function(e){return Math.floor(Be(e))}))))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||fe(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var o=e===R,i=t.movable&&e===z;e=o||i?e:W,t.dragMode=e,Ie(n,U,e),ke(n,P,o),ke(n,N,i),t.cropBoxMovable||(Ie(r,U,e),ke(r,P,o),ke(r,N,i))}return this}},ut=m.Cropper,mt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),!t||!se.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=xe({},ce,ye(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i(e,[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t[b]){if(t[b]=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(ie.test(e))ae.test(e)?this.read(rt(e)):this.clone();else{var o=new XMLHttpRequest,i=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=i,o.onerror=i,o.ontimeout=i,o.onprogress=function(){o.getResponseHeader("content-type")!==re&&o.abort()},o.onload=function(){t.read(o.response)},o.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&Xe(e)&&n.crossOrigin&&(e=Ye(e)),o.open("GET",e,!0),o.responseType="arraybuffer",o.withCredentials="use-credentials"===n.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,r=it(e),o=0,i=1,a=1;if(r>1){this.url=ot(e,re);var s=at(r);o=s.rotate,i=s.scaleX,a=s.scaleY}t.rotatable&&(n.rotate=o),t.scalable&&(n.scaleX=i,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,r=t;this.options.checkCrossOrigin&&Xe(t)&&(n||(n="anonymous"),r=Ye(t)),this.crossOrigin=n,this.crossOriginUrl=r;var o=document.createElement("img");n&&(o.crossOrigin=n),o.src=r||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Me(o,D),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=m.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(m.navigator.userAgent),r=function(t,n){xe(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=xe({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var o=document.createElement("img"),i=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),n||i.removeChild(o)},o.src=t.src,n||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(o))}else r(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,r=e.parentNode,o=document.createElement("div");o.innerHTML=he;var i=o.querySelector(".".concat(b,"-container")),a=i.querySelector(".".concat(b,"-canvas")),s=i.querySelector(".".concat(b,"-drag-box")),l=i.querySelector(".".concat(b,"-crop-box")),p=l.querySelector(".".concat(b,"-face"));this.container=r,this.cropper=i,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=i.querySelector(".".concat(b,"-view-box")),this.face=p,a.appendChild(n),Me(e,F),r.insertBefore(i,e.nextSibling),this.isImg||Pe(n,D),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Me(l,F),t.guides||Me(l.getElementsByClassName("".concat(b,"-dashed")),F),t.center||Me(l.getElementsByClassName("".concat(b,"-center")),F),t.background&&Me(i,"".concat(b,"-bg")),t.highlight||Me(p,T),t.cropBoxMovable&&(Me(p,N),Ie(p,U,y)),t.cropBoxResizable||(Me(l.getElementsByClassName("".concat(b,"-line")),F),Me(l.getElementsByClassName("".concat(b,"-point")),F)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),Ce(t.ready)&&ze(e,K,t.ready,{once:!0}),We(e,K)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Pe(this.element,F))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ut,e}},{key:"setDefaults",value:function(e){xe(ce,ye(e)&&e)}}]),e}();return xe(mt.prototype,st,lt,pt,ct,ht,dt),mt}))},933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(537),o=n.n(r),i=n(645),a=n.n(i),s=a()(o());s.push([e.id,".cropper[data-v-4bedf15c] .el-dialog__body{padding:0}.cropper_main[data-v-4bedf15c]{height:50vh;min-height:500px}.cropper_actions[data-v-4bedf15c]{padding:.5em}.cropper_actions[data-v-4bedf15c] .el-button-group{margin-right:10px}","",{version:3,sources:["webpack://./uploader.vue"],names:[],mappings:"AAsgBA,2CACE,SACF,CAEA,+BACE,WAAY,CACZ,gBACF,CAEA,kCACE,YACF,CAEA,mDACE,iBACF",sourcesContent:['<template>\r\n  <el-upload\r\n    ref="myupload"\r\n    v-bind="$attrs"\r\n    action\r\n    :fileList="fileListFinnal"\r\n    :accept="acceptFinnal"\r\n    :before-upload="handleBeforeUpload"\r\n    :on-exceed="handleonExceed"\r\n    :on-change="handleChange"\r\n    :on-remove="handleRemove"\r\n    :http-request="customUpload"\r\n  >\r\n    <div :id="triggerId">\r\n      <slot name="default">\r\n        <el-button>点击上传</el-button>\r\n      </slot>\r\n      <slot name="trigger"></slot>\r\n      <slot name="tip"></slot>\r\n    </div>\r\n    \x3c!-- edit dialog --\x3e\r\n    <el-dialog\r\n      v-model="dialogVisible"\r\n      append-to-body\r\n      title="图像剪裁"\r\n      top="10vh"\r\n      custom-class="cropper"\r\n      :close-on-click-modal="false"\r\n      :close-on-press-escape="false"\r\n      @close="cropperMethod(\'close\')"\r\n    >\r\n      <div class="cropper_main">\r\n        <img src ref="CropperImg" />\r\n      </div>\r\n      <div class="cropper_actions flex-row align-center">\r\n        <div class="flex-1">\r\n          <el-button-group>\r\n            <el-button\r\n              size="small"\r\n              title="左旋"\r\n              @click="cropperMethod(\'rotateLeft\')"\r\n            >\r\n              <i class="el-icon-refresh-left"></i>\r\n              左旋\r\n            </el-button>\r\n            <el-button\r\n              size="small"\r\n              title="右旋"\r\n              @click="cropperMethod(\'rotateRight\')"\r\n            >\r\n              <i class="el-icon-refresh-right"></i>\r\n              右旋\r\n            </el-button>\r\n          </el-button-group>\r\n          <el-button-group>\r\n            <el-button\r\n              size="small"\r\n              title="水平镜像"\r\n              @click="cropperMethod(\'scaleX\')"\r\n            >\r\n              <i class="el-icon-sort" style="transform: rotateZ(90deg)"></i>\r\n              水平镜像\r\n            </el-button>\r\n            <el-button\r\n              size="small"\r\n              title="垂直镜像"\r\n              @click="cropperMethod(\'scaleY\')"\r\n            >\r\n              <i class="el-icon-sort"></i>\r\n              垂直镜像\r\n            </el-button>\r\n          </el-button-group>\r\n          <el-button-group>\r\n            <el-button\r\n              size="small"\r\n              title="重置"\r\n              @click="cropperMethod(\'reset\')"\r\n            >\r\n              <i class="el-icon-refresh"></i>\r\n              重置\r\n            </el-button>\r\n          </el-button-group>\r\n        </div>\r\n\r\n        <el-button\r\n          size="small"\r\n          type="primary"\r\n          plain\r\n          @click="cropperMethod(\'save\')"\r\n        >\r\n          <i class="el-icon-crop"></i>\r\n          确定\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </el-upload>\r\n</template>\r\n<script>\r\nimport { ElMessage } from "element-plus";\r\nimport { fixImgFile } from "ios-photo-repair";\r\nimport Cropper from "cropperjs";\r\nimport "cropperjs/dist/cropper.css";\r\n\r\nlet cropperInstance;\r\n\r\n// 调试开关\r\nconst DEBUG = process.env.NODE_ENV === "development";\r\n\r\n// 图片压缩成jpg格式\r\nconst fixJpgFileName = function (fileName) {\r\n  if (fileName.match(/\\.jpg|\\.jpeg$/)) {\r\n    return fileName;\r\n  }\r\n  return fileName + ".jpg";\r\n};\r\n\r\n// 文件类型集合\r\nconst FileTypeMap = {\r\n  "t-image": [".jpg", ".jpeg", ".png", ".gif", ".bmp", ".webp"],\r\n  "t-video": [".mp4", ".rmvb", ".avi", ".mov", ".3gp", ".webm"],\r\n  "t-audio": [".wav", ".mp3", ".ogg", ".acc"],\r\n  "t-word": [".docx", ".doc"],\r\n  "t-excel": [".xlsx", ".xls"],\r\n  "t-ppt": [".ppt", ".pptx"],\r\n  "t-document": [".pdf", "t-word", "t-excel", "t-ppt"],\r\n  "t-zip": [".zip", ".rar"],\r\n};\r\n\r\nexport default {\r\n  props: {\r\n    modelValue: {\r\n      type: Array,\r\n      required: false,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    triggerId: {\r\n      // 配合实现富文本插件上传功能\r\n      type: String,\r\n      required: false,\r\n      default: "upload_image_trigger" + parseInt(Math.random() * 1e8),\r\n    },\r\n    limitSize: {\r\n      // 文件尺寸限制\r\n      type: Number,\r\n      required: false,\r\n      default() {\r\n        return 100 * 1024 * 1024;\r\n      },\r\n    },\r\n    imgCompress: {\r\n      // 开启图片压缩\r\n      type: Boolean,\r\n      required: false,\r\n      default() {\r\n        return true;\r\n      },\r\n    },\r\n    imgCompressOption: {\r\n      // 图片压缩配置\r\n      type: Object,\r\n      required: false,\r\n      default() {\r\n        return {\r\n          maxWidth: 1000,\r\n          maxHeight: 1000,\r\n        };\r\n      },\r\n    },\r\n    imgCrop: {\r\n      // 开启图片剪裁\r\n      type: Boolean,\r\n      required: false,\r\n      default() {\r\n        return false;\r\n      },\r\n    },\r\n    imgCropOption: {\r\n      // 图片剪裁配置\r\n      type: Object,\r\n      required: false,\r\n      default() {\r\n        return {\r\n          ratio: 1,\r\n          minWidth: 0,\r\n          minHeight: 0,\r\n          maxWidth: 1000,\r\n          maxHeight: 1000,\r\n        };\r\n      },\r\n    },\r\n    uploadMethod: {\r\n      // 自定义上传方法，参数（file/blob, fileName）\r\n      type: Function,\r\n      required: false,\r\n    },\r\n    responseTransfer: {\r\n      // 接口返回数据 与 fileList 数据格式转换函数\r\n      type: Function,\r\n      required: false,\r\n      default(response) {\r\n        return response;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      cropResult: null,\r\n      fileListFinnal: [],\r\n      controller: null,\r\n      globalOption: {},\r\n    };\r\n  },\r\n  computed: {\r\n    acceptFinnal() {\r\n      if (this.$attrs.accept && this.$attrs.accept.indexOf("t-") !== -1) {\r\n        const typeArray = this.$attrs.accept.split(",");\r\n        let result = [];\r\n        typeArray.forEach((type) => {\r\n          result = result.concat(this.getExtByType(type));\r\n        });\r\n        return result.join(",");\r\n      } else {\r\n        return this.$attrs.accept || "*";\r\n      }\r\n    },\r\n    propsFinnal() {\r\n      const getDefaultValue = (key) => {\r\n        if (Object.keys(this.globalOption).indexOf(key) !== -1) {\r\n          return this.globalOption[key];\r\n        }\r\n        return this.$props[key];\r\n      };\r\n      let result = {};\r\n      Object.keys(this.$props).forEach((prop) => {\r\n        result[prop] = getDefaultValue(prop);\r\n      });\r\n      return result;\r\n    },\r\n  },\r\n  watch: {\r\n    modelValue: {\r\n      handler(newValue) {\r\n        this.fileListFinnal = this.$attrs.fileList || newValue || [];\r\n        if (this.$refs.myupload) {\r\n          this.$refs.myupload.uploadFiles = newValue.filter((ef) => {\r\n            return newValue.findIndex((f) => f.uid === ef.uid) !== -1;\r\n          });\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    getExtByType(type) {\r\n      const quickType = Object.assign(\r\n        {},\r\n        FileTypeMap,\r\n        this.globalOption.quickType || {}\r\n      );\r\n      if (type && Array.isArray(quickType[type])) {\r\n        let classList = [];\r\n        let extList = [];\r\n        quickType[type].forEach((e) => {\r\n          if (e.indexOf("t-") === 0) {\r\n            classList.push(e);\r\n          } else {\r\n            extList.push(e);\r\n          }\r\n        });\r\n        if (classList.length) {\r\n          classList.forEach((classType) => {\r\n            extList = extList.concat(this.getExtByType(classType));\r\n          });\r\n        }\r\n        return extList;\r\n      } else if (type && type.split) {\r\n        return [type.toLowerCase()];\r\n      }\r\n    },\r\n    handleBeforeUpload: function (file) {\r\n      // 尺寸校验\r\n      if (file.size > this.propsFinnal.limitSize) {\r\n        ElMessage({ message: "文件大小超出限制", type: "warning" });\r\n        return false;\r\n      }\r\n      // 格式校验\r\n      if (\r\n        this.acceptFinnal !== "*" &&\r\n        this.acceptFinnal.indexOf(\r\n          file.name.substring(file.name.lastIndexOf(".")).toLowerCase()\r\n        ) === -1\r\n      ) {\r\n        ElMessage({ message: "文件格式不正确", type: "warning" });\r\n        return false;\r\n      }\r\n\r\n      if (typeof this.$attrs["before-upload"] === "function") {\r\n        return this.$attrs["before-upload"](file);\r\n      } else if (\r\n        this.globalOption &&\r\n        typeof this.globalOption.beforeUpload === "function"\r\n      ) {\r\n        return this.globalOption.beforeUpload(file);\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n    handleonExceed: function (file, fileList) {\r\n      if (typeof this.$attrs["on-exceed"] === "function") {\r\n        this.$attrs["on-exceed"](file, fileList);\r\n      } else if (\r\n        this.globalOption &&\r\n        typeof this.globalOption.onExceed === "function"\r\n      ) {\r\n        this.globalOption.onExceed(file, fileList);\r\n      }\r\n    },\r\n    handleChange: function (file, fileList) {\r\n      const doneFiles = fileList.filter((e) => e.status === "success");\r\n      if (doneFiles.length === fileList.length) {\r\n        this.$emit(\r\n          "update:modelValue",\r\n          doneFiles.map((e) => {\r\n            let data = e.response\r\n              ? this.propsFinnal.responseTransfer(e.response)\r\n              : e;\r\n            // 扩展字段\r\n            data.uid = e.uid;\r\n            data.status = e.status;\r\n            return data;\r\n          })\r\n        );\r\n      }\r\n\r\n      if (typeof this.$attrs["on-change"] === "function") {\r\n        this.$attrs["on-change"](file, fileList);\r\n      }\r\n    },\r\n    handleProgress(e) {\r\n      if (typeof this.$attrs["on-progress"] === "function") {\r\n        if (e.total > 0) {\r\n          e.percent = (e.loaded / e.total) * 100;\r\n        }\r\n        this.$attrs["on-progress"](e);\r\n      }\r\n    },\r\n    handleRemove: function (file, fileList) {\r\n      this.$emit(\r\n        "update:modelValue",\r\n        fileList.map((e) => {\r\n          let data = e.response\r\n            ? this.propsFinnal.responseTransfer(e.response)\r\n            : e;\r\n          data.uid = e.uid;\r\n          return data;\r\n        })\r\n      );\r\n\r\n      if (typeof this.$attrs["on-remove"] === "function") {\r\n        this.$attrs["on-remove"](file, fileList);\r\n      }\r\n    },\r\n    customUpload: async function (params) {\r\n      if (\r\n        !this.globalOption &&\r\n        !this.globalOption.uploadMethod &&\r\n        !this.propsFinnal.uploadMethod\r\n      ) {\r\n        return console.warn(\r\n          "Uploader: The required configuration [uploadMethod] is missing!"\r\n        );\r\n      }\r\n\r\n      const theUploadRequest =\r\n        this.propsFinnal.uploadMethod || this.globalOption.uploadMethod;\r\n      if (typeof theUploadRequest !== "function") {\r\n        return console.warn("Uploader: [uploadMethod] must be a Function!");\r\n      }\r\n\r\n      const uploadedFileType = params.file.type;\r\n      DEBUG && console.log("uploadedFileType", uploadedFileType);\r\n\r\n      let formDataFileObj = params.file;\r\n      let formDataFileName = params.file.name;\r\n\r\n      if (uploadedFileType.indexOf("image/") === 0) {\r\n        if (this.propsFinnal.imgCrop) {\r\n          // 图片剪裁\r\n          this.cropResult = null;\r\n          this.dialogVisible = true;\r\n\r\n          const imgBlob = await new Promise((resolve) => {\r\n            let oReader = new FileReader();\r\n            oReader.onload = (e) => {\r\n              let base64 = e.target.result;\r\n              let img = this.$refs.CropperImg;\r\n              img.src = base64;\r\n              //\r\n              if (cropperInstance) {\r\n                cropperInstance.destroy();\r\n              }\r\n\r\n              cropperInstance = new Cropper(img, {\r\n                viewMode: 1,\r\n                dragMode: "none",\r\n                movable: false,\r\n                zoomOnTouch: false,\r\n                zoomOnWheel: false,\r\n                toggleDragModeOnDblclick: false,\r\n                aspectRatio: this.propsFinnal.imgCropOption.ratio,\r\n              });\r\n            };\r\n            oReader.readAsDataURL(params.file);\r\n\r\n            this.$watch("cropResult", resolve);\r\n          });\r\n\r\n          if (imgBlob) {\r\n            DEBUG && console.log("imgCrop", imgBlob);\r\n            formDataFileObj = imgBlob;\r\n            formDataFileName = fixJpgFileName(formDataFileName);\r\n            this.cropperMethod("close");\r\n          }\r\n        } else if (this.propsFinnal.imgCompress) {\r\n          // 图片压缩\r\n          const imgBlob = await fixImgFile(\r\n            params.file,\r\n            Object.assign({}, this.propsFinnal.imgCompressOption, {\r\n              outType: "blob",\r\n            })\r\n          );\r\n\r\n          DEBUG && console.log("imgCompress", imgBlob);\r\n          formDataFileObj = imgBlob;\r\n          formDataFileName = fixJpgFileName(formDataFileName);\r\n        }\r\n      }\r\n\r\n      // 上传\r\n      DEBUG && console.log("upload params", formDataFileName, formDataFileObj);\r\n      this.controller = new AbortController();\r\n      return theUploadRequest(formDataFileObj, formDataFileName, {\r\n        onUploadProgress: this.handleProgress,\r\n        signal: this.controller.signal,\r\n      }).then((res) => {\r\n        return res.data;\r\n      });\r\n    },\r\n    cropperMethod(action) {\r\n      // 剪裁相关处理方法\r\n      switch (action) {\r\n        case "save":\r\n          cropperInstance\r\n            .getCroppedCanvas({\r\n              minWidth: this.propsFinnal.imgCropOption.minWidth,\r\n              minHeight: this.propsFinnal.imgCropOption.minHeight,\r\n              maxWidth: this.propsFinnal.imgCropOption.maxWidth || 1000,\r\n              maxHeight: this.propsFinnal.imgCropOption.maxHeight || 1000,\r\n              imageSmoothingQuality: "medium",\r\n            })\r\n            .toBlob((blob) => {\r\n              this.cropResult = blob;\r\n            }, "image/jpeg");\r\n          break;\r\n        case "close":\r\n          this.dialogVisible = false;\r\n          if (cropperInstance) {\r\n            cropperInstance.destroy();\r\n          }\r\n          if (!this.cropResult) {\r\n            const newValue = [].concat(this.modelValue);\r\n            newValue.pop();\r\n            this.$emit("update:modelValue", newValue);\r\n          }\r\n          break;\r\n        case "rotateLeft":\r\n          cropperInstance.rotate(-90);\r\n          break;\r\n        case "rotateRight":\r\n          cropperInstance.rotate(90);\r\n          break;\r\n        case "scaleX":\r\n          cropperInstance.scaleX(-1);\r\n          break;\r\n        case "scaleY":\r\n          cropperInstance.scaleY(-1);\r\n          break;\r\n        case "reset":\r\n          cropperInstance.reset();\r\n          break;\r\n        default:\r\n          console.warn("cropperMethod 参数错误: ", action);\r\n      }\r\n    },\r\n    clearFiles() {\r\n      // el-upload 方法\r\n      this.$refs.myupload.clearFiles();\r\n    },\r\n    abort() {\r\n      this.controller.abort();\r\n    },\r\n    submit() {\r\n      // el-upload 方法\r\n      this.$refs.myupload.submit();\r\n    },\r\n  },\r\n  created() {\r\n    this.globalOption = this.$UploaderOption || {};\r\n  },\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n/* 图片剪裁弹窗 */\r\n.cropper :deep(.el-dialog__body) {\r\n  padding: 0;\r\n}\r\n\r\n.cropper_main {\r\n  height: 50vh;\r\n  min-height: 500px;\r\n}\r\n\r\n.cropper_actions {\r\n  padding: 0.5em;\r\n}\r\n\r\n.cropper_actions :deep(.el-button-group) {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const l=s},950:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(537),o=n.n(r),i=n(645),a=n.n(i),s=n(667),l=n.n(s),p=new URL(n(738),n.b),c=a()(o()),h=l()(p);c.push([e.id,'/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:11.623Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url('+h+")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}","",{version:3,sources:["webpack://./node_modules/cropperjs/dist/cropper.css"],names:[],mappings:"AAAA;;;;;;;;EAQE,CAEF,mBACE,aAAc,CACd,WAAY,CACZ,aAAc,CACd,iBAAkB,CAClB,qBAAsB,CACtB,iBAAkB,CAClB,wBAAyB,CACzB,qBAAsB,CACtB,oBAAqB,CACrB,gBACF,CAEA,uBACE,aAAc,CACd,WAAY,CACZ,sBAAuB,CACvB,yBAA2B,CAC3B,wBAA0B,CAC1B,sBAAwB,CACxB,qBAAuB,CACvB,UACF,CAEA,qFAKE,QAAS,CACT,MAAO,CACP,iBAAkB,CAClB,OAAQ,CACR,KACF,CAEA,kCAEE,eACF,CAEA,kBACE,qBAAsB,CACtB,SACF,CAEA,eACE,qBAAsB,CACtB,UACF,CAEA,kBACE,aAAc,CACd,WAAY,CACZ,sBAAuB,CACvB,kCAAuC,CACvC,eAAgB,CAChB,UACF,CAEA,gBACE,oBAAqB,CACrB,aAAc,CACd,UAAY,CACZ,iBACF,CAEA,yBACE,uBAAwB,CACxB,oBAAqB,CACrB,gBAAsB,CACtB,MAAO,CACP,aAAmB,CACnB,UACF,CAEA,yBACE,qBAAsB,CACtB,sBAAuB,CACvB,WAAY,CACZ,cAAoB,CACpB,KAAM,CACN,eACF,CAEA,gBACE,aAAc,CACd,QAAS,CACT,QAAS,CACT,WAAa,CACb,iBAAkB,CAClB,OAAQ,CACR,OACF,CAEA,6CAEE,qBAAsB,CACtB,WAAY,CACZ,aAAc,CACd,iBACF,CAEA,uBACE,UAAW,CACX,SAAU,CACV,KAAM,CACN,SACF,CAEA,sBACE,UAAW,CACX,MAAO,CACP,QAAS,CACT,SACF,CAEA,2CAGE,aAAc,CACd,WAAY,CACZ,UAAY,CACZ,iBAAkB,CAClB,UACF,CAEA,cACE,qBAAsB,CACtB,MAAO,CACP,KACF,CAEA,cACE,qBACF,CAEA,qBACE,gBAAiB,CACjB,UAAW,CACX,KAAM,CACN,SACF,CAEA,qBACE,gBAAiB,CACjB,UAAW,CACX,MAAO,CACP,QACF,CAEA,qBACE,gBAAiB,CACjB,SAAU,CACV,KAAM,CACN,SACF,CAEA,qBACE,WAAY,CACZ,gBAAiB,CACjB,UAAW,CACX,MACF,CAEA,eACE,qBAAsB,CACtB,UAAW,CACX,WAAa,CACb,SACF,CAEA,uBACE,gBAAiB,CACjB,eAAgB,CAChB,UAAW,CACX,OACF,CAEA,uBACE,gBAAiB,CACjB,QAAS,CACT,gBAAiB,CACjB,QACF,CAEA,uBACE,gBAAiB,CACjB,SAAU,CACV,eAAgB,CAChB,OACF,CAEA,uBACE,WAAY,CACZ,eAAgB,CAChB,QAAS,CACT,gBACF,CAEA,wBACE,kBAAmB,CACnB,UAAW,CACX,QACF,CAEA,wBACE,kBAAmB,CACnB,SAAU,CACV,QACF,CAEA,wBACE,WAAY,CACZ,kBAAmB,CACnB,SACF,CAEA,wBACE,WAAY,CACZ,kBAAmB,CACnB,WAAY,CACZ,SAAU,CACV,UAAW,CACX,UACF,CAEA,yBACE,wBACE,WAAY,CACZ,UACF,CACF,CAEA,yBACE,wBACE,WAAY,CACZ,UACF,CACF,CAEA,0BACE,wBACE,UAAW,CACX,WAAa,CACb,SACF,CACF,CAEA,+BACE,qBAAsB,CACtB,WAAY,CACZ,WAAY,CACZ,aAAc,CACd,WAAY,CACZ,SAAU,CACV,iBAAkB,CAClB,UAAW,CACX,UACF,CAEA,mBACE,SACF,CAEA,YACE,wDACF,CAEA,cACE,aAAc,CACd,QAAS,CACT,iBAAkB,CAClB,OACF,CAEA,gBACE,sBACF,CAEA,cACE,WACF,CAEA,cACE,gBACF,CAEA,qIAIE,kBACF",sourcesContent:["/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:11.623Z\n */\n\n.cropper-container {\n  direction: ltr;\n  font-size: 0;\n  line-height: 0;\n  position: relative;\n  -ms-touch-action: none;\n  touch-action: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.cropper-container img {\n  display: block;\n  height: 100%;\n  image-orientation: 0deg;\n  max-height: none !important;\n  max-width: none !important;\n  min-height: 0 !important;\n  min-width: 0 !important;\n  width: 100%;\n}\n\n.cropper-wrap-box,\n.cropper-canvas,\n.cropper-drag-box,\n.cropper-crop-box,\n.cropper-modal {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.cropper-wrap-box,\n.cropper-canvas {\n  overflow: hidden;\n}\n\n.cropper-drag-box {\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-modal {\n  background-color: #000;\n  opacity: 0.5;\n}\n\n.cropper-view-box {\n  display: block;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  overflow: hidden;\n  width: 100%;\n}\n\n.cropper-dashed {\n  border: 0 dashed #eee;\n  display: block;\n  opacity: 0.5;\n  position: absolute;\n}\n\n.cropper-dashed.dashed-h {\n  border-bottom-width: 1px;\n  border-top-width: 1px;\n  height: calc(100% / 3);\n  left: 0;\n  top: calc(100% / 3);\n  width: 100%;\n}\n\n.cropper-dashed.dashed-v {\n  border-left-width: 1px;\n  border-right-width: 1px;\n  height: 100%;\n  left: calc(100% / 3);\n  top: 0;\n  width: calc(100% / 3);\n}\n\n.cropper-center {\n  display: block;\n  height: 0;\n  left: 50%;\n  opacity: 0.75;\n  position: absolute;\n  top: 50%;\n  width: 0;\n}\n\n.cropper-center::before,\n.cropper-center::after {\n  background-color: #eee;\n  content: ' ';\n  display: block;\n  position: absolute;\n}\n\n.cropper-center::before {\n  height: 1px;\n  left: -3px;\n  top: 0;\n  width: 7px;\n}\n\n.cropper-center::after {\n  height: 7px;\n  left: 0;\n  top: -3px;\n  width: 1px;\n}\n\n.cropper-face,\n.cropper-line,\n.cropper-point {\n  display: block;\n  height: 100%;\n  opacity: 0.1;\n  position: absolute;\n  width: 100%;\n}\n\n.cropper-face {\n  background-color: #fff;\n  left: 0;\n  top: 0;\n}\n\n.cropper-line {\n  background-color: #39f;\n}\n\n.cropper-line.line-e {\n  cursor: ew-resize;\n  right: -3px;\n  top: 0;\n  width: 5px;\n}\n\n.cropper-line.line-n {\n  cursor: ns-resize;\n  height: 5px;\n  left: 0;\n  top: -3px;\n}\n\n.cropper-line.line-w {\n  cursor: ew-resize;\n  left: -3px;\n  top: 0;\n  width: 5px;\n}\n\n.cropper-line.line-s {\n  bottom: -3px;\n  cursor: ns-resize;\n  height: 5px;\n  left: 0;\n}\n\n.cropper-point {\n  background-color: #39f;\n  height: 5px;\n  opacity: 0.75;\n  width: 5px;\n}\n\n.cropper-point.point-e {\n  cursor: ew-resize;\n  margin-top: -3px;\n  right: -3px;\n  top: 50%;\n}\n\n.cropper-point.point-n {\n  cursor: ns-resize;\n  left: 50%;\n  margin-left: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-w {\n  cursor: ew-resize;\n  left: -3px;\n  margin-top: -3px;\n  top: 50%;\n}\n\n.cropper-point.point-s {\n  bottom: -3px;\n  cursor: s-resize;\n  left: 50%;\n  margin-left: -3px;\n}\n\n.cropper-point.point-ne {\n  cursor: nesw-resize;\n  right: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-nw {\n  cursor: nwse-resize;\n  left: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-sw {\n  bottom: -3px;\n  cursor: nesw-resize;\n  left: -3px;\n}\n\n.cropper-point.point-se {\n  bottom: -3px;\n  cursor: nwse-resize;\n  height: 20px;\n  opacity: 1;\n  right: -3px;\n  width: 20px;\n}\n\n@media (min-width: 768px) {\n  .cropper-point.point-se {\n    height: 15px;\n    width: 15px;\n  }\n}\n\n@media (min-width: 992px) {\n  .cropper-point.point-se {\n    height: 10px;\n    width: 10px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .cropper-point.point-se {\n    height: 5px;\n    opacity: 0.75;\n    width: 5px;\n  }\n}\n\n.cropper-point.point-se::before {\n  background-color: #39f;\n  bottom: -50%;\n  content: ' ';\n  display: block;\n  height: 200%;\n  opacity: 0;\n  position: absolute;\n  right: -50%;\n  width: 200%;\n}\n\n.cropper-invisible {\n  opacity: 0;\n}\n\n.cropper-bg {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\n}\n\n.cropper-hide {\n  display: block;\n  height: 0;\n  position: absolute;\n  width: 0;\n}\n\n.cropper-hidden {\n  display: none !important;\n}\n\n.cropper-move {\n  cursor: move;\n}\n\n.cropper-crop {\n  cursor: crosshair;\n}\n\n.cropper-disabled .cropper-drag-box,\n.cropper-disabled .cropper-face,\n.cropper-disabled .cropper-line,\n.cropper-disabled .cropper-point {\n  cursor: not-allowed;\n}\n"],sourceRoot:""}]);const d=c},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r="undefined"!==typeof t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"===typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var p=0;p<e.length;p++){var c=[].concat(e[p]);r&&a[c[0]]||("undefined"!==typeof i&&("undefined"===typeof c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"===typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}},918:function(e,t){var r,o;(function(){var i=!1,a=function(e){return e instanceof a?e:this instanceof a?void(this.EXIFwrapped=e):new a(e)};e.exports&&(t=e.exports=a),t.EXIF=a;var s=a.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},l=a.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},p=a.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},c=a.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},h=a.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function d(e){return!!e.exifdata}function u(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,o=new ArrayBuffer(r),i=new Uint8Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o}function m(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}function f(e,t){function n(n){var r=g(n);e.exifdata=r||{};var o=b(n);if(e.iptcdata=o||{},a.isXmpEnabled){var i=E(n);e.xmpdata=i||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var r=u(e.src);n(r)}else if(/^blob\:/i.test(e.src)){var o=new FileReader;o.onload=function(e){n(e.target.result)},m(e.src,(function(e){o.readAsArrayBuffer(e)}))}else{var s=new XMLHttpRequest;s.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(s.response),s=null},s.open("GET",e.src,!0),s.responseType="arraybuffer",s.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){o=new FileReader;o.onload=function(e){i&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},o.readAsArrayBuffer(e)}}function g(e){var t=new DataView(e);if(i&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n,r=2,o=e.byteLength;while(r<o){if(255!=t.getUint8(r))return i&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),i&&console.log(n),225==n)return i&&console.log("Found 0xFFE1 marker"),B(t,r+4,t.getUint16(r+2)-2);r+=2+t.getUint16(r+2)}}function b(e){var t=new DataView(e);if(i&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n=2,r=e.byteLength,o=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};while(n<r){if(o(t,n)){var a=t.getUint8(n+7);a%2!==0&&(a+=1),0===a&&(a=4);var s=n+8+a,l=t.getUint16(n+6+a);return C(e,s,l)}n++}}var y={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function C(e,t,n){var r,o,i,a,s=new DataView(e),l={},p=t;while(p<t+n)28===s.getUint8(p)&&2===s.getUint8(p+1)&&(a=s.getUint8(p+2),a in y&&(i=s.getInt16(p+3),i+5,o=y[a],r=O(s,p+5,i),l.hasOwnProperty(o)?l[o]instanceof Array?l[o].push(r):l[o]=[l[o],r]:l[o]=r)),p++;return l}function v(e,t,n,r,o){var a,s,l,p=e.getUint16(n,!o),c={};for(l=0;l<p;l++)a=n+12*l+2,s=r[e.getUint16(a,!o)],!s&&i&&console.log("Unknown tag: "+e.getUint16(a,!o)),c[s]=A(e,a,t,n,o);return c}function A(e,t,n,r,o){var i,a,s,l,p,c,h=e.getUint16(t+2,!o),d=e.getUint32(t+4,!o),u=e.getUint32(t+8,!o)+n;switch(h){case 1:case 7:if(1==d)return e.getUint8(t+8,!o);for(i=d>4?u:t+8,a=[],l=0;l<d;l++)a[l]=e.getUint8(i+l);return a;case 2:return i=d>4?u:t+8,O(e,i,d-1);case 3:if(1==d)return e.getUint16(t+8,!o);for(i=d>2?u:t+8,a=[],l=0;l<d;l++)a[l]=e.getUint16(i+2*l,!o);return a;case 4:if(1==d)return e.getUint32(t+8,!o);for(a=[],l=0;l<d;l++)a[l]=e.getUint32(u+4*l,!o);return a;case 5:if(1==d)return p=e.getUint32(u,!o),c=e.getUint32(u+4,!o),s=new Number(p/c),s.numerator=p,s.denominator=c,s;for(a=[],l=0;l<d;l++)p=e.getUint32(u+8*l,!o),c=e.getUint32(u+4+8*l,!o),a[l]=new Number(p/c),a[l].numerator=p,a[l].denominator=c;return a;case 9:if(1==d)return e.getInt32(t+8,!o);for(a=[],l=0;l<d;l++)a[l]=e.getInt32(u+4*l,!o);return a;case 10:if(1==d)return e.getInt32(u,!o)/e.getInt32(u+4,!o);for(a=[],l=0;l<d;l++)a[l]=e.getInt32(u+8*l,!o)/e.getInt32(u+4+8*l,!o);return a}}function w(e,t,n){var r=e.getUint16(t,!n);return e.getUint32(t+2+12*r,!n)}function x(e,t,n,r){var o=w(e,t+n,r);if(!o)return{};if(o>e.byteLength)return{};var i=v(e,t,t+o,c,r);if(i["Compression"])switch(i["Compression"]){case 6:if(i.JpegIFOffset&&i.JpegIFByteCount){var a=t+i.JpegIFOffset,s=i.JpegIFByteCount;i["blob"]=new Blob([new Uint8Array(e.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",i["Compression"])}else 2==i["PhotometricInterpretation"]&&console.log("Thumbnail image format is RGB, which is not implemented.");return i}function O(e,t,r){var o="";for(n=t;n<t+r;n++)o+=String.fromCharCode(e.getUint8(n));return o}function B(e,t){if("Exif"!=O(e,t,4))return i&&console.log("Not valid EXIF data! "+O(e,t,4)),!1;var n,r,o,a,c,d=t+6;if(18761==e.getUint16(d))n=!1;else{if(19789!=e.getUint16(d))return i&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(d+2,!n))return i&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var u=e.getUint32(d+4,!n);if(u<8)return i&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(d+4,!n)),!1;if(r=v(e,d,d+u,l,n),r.ExifIFDPointer)for(o in a=v(e,d,d+r.ExifIFDPointer,s,n),a){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[o]=h[o][a[o]];break;case"ExifVersion":case"FlashpixVersion":a[o]=String.fromCharCode(a[o][0],a[o][1],a[o][2],a[o][3]);break;case"ComponentsConfiguration":a[o]=h.Components[a[o][0]]+h.Components[a[o][1]]+h.Components[a[o][2]]+h.Components[a[o][3]];break}r[o]=a[o]}if(r.GPSInfoIFDPointer)for(o in c=v(e,d,d+r.GPSInfoIFDPointer,p,n),c){switch(o){case"GPSVersionID":c[o]=c[o][0]+"."+c[o][1]+"."+c[o][2]+"."+c[o][3];break}r[o]=c[o]}return r["thumbnail"]=x(e,d,u,n),r}function E(e){if("DOMParser"in self){var t=new DataView(e);if(i&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n=2,r=e.byteLength,o=new DOMParser;while(n<r-4){if("http"==O(t,n,4)){var a=n-1,s=t.getUint16(n-2)-1,l=O(t,a,s),p=l.indexOf("xmpmeta>")+8;l=l.substring(l.indexOf("<x:xmpmeta"),p);var c=l.indexOf("x:xmpmeta")+10;l=l.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+l.slice(c);var h=o.parseFromString(l,"text/xml");return j(h)}n++}}}function S(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes.item(o),a=i.nodeName;if(null==t[a])t[a]=S(i);else{if(null==t[a].push){var s=t[a];t[a]=[],t[a].push(s)}t[a].push(S(i))}}return t}function j(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children.item(n),o=r.attributes;for(var i in o){var a=o[i],s=a.nodeName,l=a.nodeValue;void 0!==s&&(t[s]=l)}var p=r.nodeName;if("undefined"==typeof t[p])t[p]=S(r);else{if("undefined"==typeof t[p].push){var c=t[p];t[p]=[],t[p].push(c)}t[p].push(S(r))}}else t=e.textContent;return t}catch(h){console.log(h.message)}}a.enableXmp=function(){a.isXmpEnabled=!0},a.disableXmp=function(){a.isXmpEnabled=!1},a.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(d(e)?t&&t.call(e):f(e,t),!0)},a.getTag=function(e,t){if(d(e))return e.exifdata[t]},a.getIptcTag=function(e,t){if(d(e))return e.iptcdata[t]},a.getAllTags=function(e){if(!d(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},a.getAllIptcTags=function(e){if(!d(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},a.pretty=function(e){if(!d(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},a.readFromBinaryFile=function(e){return g(e)},r=[],o=function(){return a}.apply(t,r),void 0===o||(e.exports=o)}).call(this)},744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},618:(e,t,n)=>{var r=n(933);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=n(402).Z;o("7b6bb5d3",r,!0,{sourceMap:!0,shadowMode:!1})},663:(e,t,n)=>{var r=n(950);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var o=n(402).Z;o("02be78cb",r,!0,{sourceMap:!0,shadowMode:!1})},402:(e,t,n)=>{"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],s=i[1],l=i[2],p=i[3],c={id:e+":"+o,css:s,media:l,sourceMap:p};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}n.d(t,{Z:()=>m});var o="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,p=!1,c=function(){},h=null,d="data-vue-ssr-id",u="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,o){p=n,h=o||{};var a=r(e,t);return f(a),function(t){for(var n=[],o=0;o<a.length;o++){var s=a[o],l=i[s.id];l.refs--,n.push(l)}t?(a=r(e,t),f(a)):a=[];for(o=0;o<n.length;o++){l=n[o];if(0===l.refs){for(var p=0;p<l.parts.length;p++)l.parts[p]();delete i[l.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(b(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(b(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function b(e){var t,n,r=document.querySelector("style["+d+'~="'+e.id+'"]');if(r){if(p)return c;r.parentNode.removeChild(r)}if(u){var o=l++;r=s||(s=g()),t=C.bind(null,r,o,!1),n=C.bind(null,r,o,!0)}else r=g(),t=v.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function C(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function v(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),h.ssrId&&e.setAttribute(d,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},738:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC"},203:t=>{"use strict";t.exports=e}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={id:e,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,(()=>{o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t}})(),(()=>{o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p=""})(),(()=>{o.b=document.baseURI||self.location.href})();var i={};return(()=>{"use strict";if(o.d(i,{default:()=>Yt}),"undefined"!==typeof window){var e=window.document.currentScript,t=o(679);e=t(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:t});var n=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(o.p=n[1])}var r=o(203);const a=e=>((0,r.pushScopeId)("data-v-4bedf15c"),e=e(),(0,r.popScopeId)(),e),s=["id"],l=(0,r.createTextVNode)("点击上传"),p={class:"cropper_main"},c={src:"",ref:"CropperImg"},h={class:"cropper_actions flex-row align-center"},d={class:"flex-1"},u=a((()=>(0,r.createElementVNode)("i",{class:"el-icon-refresh-left"},null,-1))),m=(0,r.createTextVNode)(" 左旋 "),f=a((()=>(0,r.createElementVNode)("i",{class:"el-icon-refresh-right"},null,-1))),g=(0,r.createTextVNode)(" 右旋 "),b=a((()=>(0,r.createElementVNode)("i",{class:"el-icon-sort",style:{transform:"rotateZ(90deg)"}},null,-1))),y=(0,r.createTextVNode)(" 水平镜像 "),C=a((()=>(0,r.createElementVNode)("i",{class:"el-icon-sort"},null,-1))),v=(0,r.createTextVNode)(" 垂直镜像 "),A=a((()=>(0,r.createElementVNode)("i",{class:"el-icon-refresh"},null,-1))),w=(0,r.createTextVNode)(" 重置 "),x=a((()=>(0,r.createElementVNode)("i",{class:"el-icon-crop"},null,-1))),O=(0,r.createTextVNode)(" 确定 ");function B(e,t,n,o,i,a){const B=(0,r.resolveComponent)("el-button"),E=(0,r.resolveComponent)("el-button-group"),S=(0,r.resolveComponent)("el-dialog"),j=(0,r.resolveComponent)("el-upload");return(0,r.openBlock)(),(0,r.createBlock)(j,(0,r.mergeProps)({ref:"myupload"},e.$attrs,{action:"",fileList:i.fileListFinnal,accept:a.acceptFinnal,"before-upload":a.handleBeforeUpload,"on-exceed":a.handleonExceed,"on-change":a.handleChange,"on-remove":a.handleRemove,"http-request":a.customUpload}),{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",{id:n.triggerId},[(0,r.renderSlot)(e.$slots,"default",{},(()=>[(0,r.createVNode)(B,null,{default:(0,r.withCtx)((()=>[l])),_:1})]),!0),(0,r.renderSlot)(e.$slots,"trigger",{},void 0,!0),(0,r.renderSlot)(e.$slots,"tip",{},void 0,!0)],8,s),(0,r.createVNode)(S,{modelValue:i.dialogVisible,"onUpdate:modelValue":t[6]||(t[6]=e=>i.dialogVisible=e),"append-to-body":"",title:"图像剪裁",top:"10vh","custom-class":"cropper","close-on-click-modal":!1,"close-on-press-escape":!1,onClose:t[7]||(t[7]=e=>a.cropperMethod("close"))},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("img",c,null,512)]),(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("div",d,[(0,r.createVNode)(E,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(B,{size:"small",title:"左旋",onClick:t[0]||(t[0]=e=>a.cropperMethod("rotateLeft"))},{default:(0,r.withCtx)((()=>[u,m])),_:1}),(0,r.createVNode)(B,{size:"small",title:"右旋",onClick:t[1]||(t[1]=e=>a.cropperMethod("rotateRight"))},{default:(0,r.withCtx)((()=>[f,g])),_:1})])),_:1}),(0,r.createVNode)(E,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(B,{size:"small",title:"水平镜像",onClick:t[2]||(t[2]=e=>a.cropperMethod("scaleX"))},{default:(0,r.withCtx)((()=>[b,y])),_:1}),(0,r.createVNode)(B,{size:"small",title:"垂直镜像",onClick:t[3]||(t[3]=e=>a.cropperMethod("scaleY"))},{default:(0,r.withCtx)((()=>[C,v])),_:1})])),_:1}),(0,r.createVNode)(E,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(B,{size:"small",title:"重置",onClick:t[4]||(t[4]=e=>a.cropperMethod("reset"))},{default:(0,r.withCtx)((()=>[A,w])),_:1})])),_:1})]),(0,r.createVNode)(B,{size:"small",type:"primary",plain:"",onClick:t[5]||(t[5]=e=>a.cropperMethod("save"))},{default:(0,r.withCtx)((()=>[x,O])),_:1})])])),_:1},8,["modelValue"])])),_:3},16,["fileList","accept","before-upload","on-exceed","on-change","on-remove","http-request"])}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function E(e){return!!(0,r.getCurrentScope)()&&((0,r.onScopeDispose)(e),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const S="undefined"!==typeof window,j=(Object.prototype.toString,e=>"number"===typeof e),M=e=>"string"===typeof e,P=()=>{};Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function k(e,t,n={}){const{immediate:o=!0}=n,i=(0,r.ref)(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function l(){i.value=!1,s()}function p(...n){s(),i.value=!0,a=setTimeout((()=>{i.value=!1,a=null,e(...n)}),(0,r.unref)(t))}return o&&(i.value=!0,S&&p()),E(l),{isPending:i,start:p,stop:l}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function F(e){var t=-1,n=null==e?0:e.length,r={};while(++t<n){var o=e[t];r[o[0]]=o[1]}return r}const D=F;Object.assign;const T=Object.prototype.hasOwnProperty,I=(e,t)=>T.call(e,t),N=(Array.isArray,e=>"function"===typeof e),U=e=>"string"===typeof e,L=e=>null!==e&&"object"===typeof e,R=(Object.prototype.toString,e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}}),z=/-(\w)/g,W=(R((e=>e.replace(z,((e,t)=>t?t.toUpperCase():"")))),/\B([A-Z])/g),V=(R((e=>e.replace(W,"-$1").toLowerCase())),R((e=>e.charAt(0).toUpperCase()+e.slice(1))));R((e=>e?`on${V(e)}`:""));const H=Symbol(),$="__elPropsReservedKey";function X(e,t){if(!L(e)||e[$])return e;const{values:n,required:o,default:i,type:a,validator:s}=e,l=n||s?o=>{let a=!1,l=[];if(n&&(l=Array.from(n),I(e,"default")&&l.push(i),a||(a=l.includes(o))),s&&(a||(a=s(o))),!a&&l.length>0){const e=[...new Set(l)].map((e=>JSON.stringify(e))).join(", ");(0,r.warn)(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${e}], got value ${JSON.stringify(o)}.`)}return a}:void 0,p={type:L(a)&&Object.getOwnPropertySymbols(a).includes(H)?a[H]:a,required:!!o,validator:l,[$]:!0};return I(e,"default")&&(p.default=i),p}const Y=e=>D(Object.entries(e).map((([e,t])=>[e,X(t,e)]))),q=e=>({[H]:e}),_=["","default","small","large"],G=Symbol();Error;function Z(e,t){0}const Q=e=>Object.keys(e),J=(0,r.ref)();function K(e,t){const n=(0,r.getCurrentInstance)()?(0,r.inject)(G,J):J;return e?(0,r.computed)((()=>{var r,o;return null!=(o=null==(r=n.value)?void 0:r[e])?o:t})):n}const ee=(e,t,n=!1)=>{var o;const i=!!(0,r.getCurrentInstance)(),a=i?K():void 0,s=null!=(o=null==t?void 0:t.provide)?o:i?r.provide:void 0;if(!s)return void Z("provideGlobalConfig","provideGlobalConfig() can only be used inside setup().");const l=(0,r.computed)((()=>{const t=(0,r.unref)(e);return(null==a?void 0:a.value)?te(a.value,t):t}));return s(G,l),!n&&J.value||(J.value=l.value),l},te=(e,t)=>{var n;const r=[...new Set([...Q(e),...Q(t)])],o={};for(const i of r)o[i]=null!=(n=t[i])?n:e[i];return o},ne={},re=Y({a11y:{type:Boolean,default:!0},locale:{type:q(Object)},size:{type:String,values:_,default:""},button:{type:q(Object)},experimentalFeatures:{type:q(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:q(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});(0,r.defineComponent)({name:"ElConfigProvider",props:re,setup(e,{slots:t}){(0,r.watch)((()=>e.message),(e=>{Object.assign(ne,null!=e?e:{})}),{immediate:!0,deep:!0});const n=ee(e);return()=>(0,r.renderSlot)(t,"default",{config:null==n?void 0:n.value})}});function oe(e){var t;const n=(0,r.unref)(e);return null!=(t=null==n?void 0:n.$el)?t:n}const ie=S?window:void 0;S&&window.document,S&&window.navigator,S&&window.location;function ae(...e){let t,n,o,i;if(M(e[0])?([n,o,i]=e,t=ie):[t,n,o,i]=e,!t)return P;let a=P;const s=(0,r.watch)((()=>oe(t)),(e=>{a(),e&&(e.addEventListener(n,o,i),a=()=>{e.removeEventListener(n,o,i),a=P})}),{immediate:!0,flush:"post"}),l=()=>{s(),a()};return E(l),l}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const se="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},le="__vueuse_ssr_handlers__";se[le]=se[le]||{};se[le];Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var pe,ce;S&&(null==window?void 0:window.navigator)&&(null==(pe=null==window?void 0:window.navigator)?void 0:pe.platform)&&/iP(ad|hone|od)/.test(null==(ce=null==window?void 0:window.navigator)?void 0:ce.platform);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const he=Y({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}});var de=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const ue="el",me="is-",fe=(e,t,n,r,o)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),o&&(i+=`--${o}`),i},ge=e=>{const t=K("namespace"),n=(0,r.computed)((()=>t.value||ue)),o=(t="")=>fe((0,r.unref)(n),e,t,"",""),i=t=>t?fe((0,r.unref)(n),e,"",t,""):"",a=t=>t?fe((0,r.unref)(n),e,"","",t):"",s=(t,o)=>t&&o?fe((0,r.unref)(n),e,t,o,""):"",l=(t,o)=>t&&o?fe((0,r.unref)(n),e,"",t,o):"",p=(t,o)=>t&&o?fe((0,r.unref)(n),e,t,"",o):"",c=(t,o,i)=>t&&o&&i?fe((0,r.unref)(n),e,t,o,i):"",h=(e,...t)=>{const n=!(t.length>=1)||t[0];return e&&n?`${me}${e}`:""};return{namespace:n,b:o,e:i,m:a,be:s,em:l,bm:p,bem:c,is:h}},be=["textContent"],ye={name:"ElBadge"},Ce=(0,r.defineComponent)({...ye,props:he,setup(e,{expose:t}){const n=e,o=ge("badge"),i=(0,r.computed)((()=>n.isDot?"":j(n.value)&&j(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`));return t({content:i}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)((0,r.unref)(o).b())},[(0,r.renderSlot)(e.$slots,"default"),(0,r.createVNode)(r.Transition,{name:`${(0,r.unref)(o).namespace.value}-zoom-in-center`},{default:(0,r.withCtx)((()=>[(0,r.withDirectives)((0,r.createElementVNode)("sup",{class:(0,r.normalizeClass)([(0,r.unref)(o).e("content"),(0,r.unref)(o).em("content",e.type),(0,r.unref)(o).is("fixed",!!e.$slots.default),(0,r.unref)(o).is("dot",e.isDot)]),textContent:(0,r.toDisplayString)((0,r.unref)(i))},null,10,be),[[r.vShow,!e.hidden&&((0,r.unref)(i)||"0"===(0,r.unref)(i)||e.isDot)]])])),_:1},8,["name"])],2))}});var ve=de(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Ae=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(null!=t?t:{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},we=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),xe=Ae(ve),Oe=Y({size:{type:q([Number,String])},color:{type:String}}),Be=e=>void 0===e,Ee=e=>"undefined"!==typeof Element&&e instanceof Element,Se="utils/vue/style";function je(e,t="px"){return e?U(e)?e:j(e)?`${e}${t}`:void Z(Se,"binding value must be a string or number"):""}const Me={name:"ElIcon",inheritAttrs:!1},Pe=(0,r.defineComponent)({...Me,props:Oe,setup(e){const t=e,n=ge("icon"),o=(0,r.computed)((()=>t.size||t.color?{fontSize:Be(t.size)?void 0:je(t.size),"--color":t.color}:{}));return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("i",(0,r.mergeProps)({class:(0,r.unref)(n).b(),style:(0,r.unref)(o)},e.$attrs),[(0,r.renderSlot)(e.$slots,"default")],16))}});var ke=de(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Fe=Ae(ke);var De=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const Te=(0,r.defineComponent)({name:"Close"}),Ie={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ne=(0,r.createElementVNode)("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Ue=[Ne];function Le(e,t,n,o,i,a){return(0,r.openBlock)(),(0,r.createElementBlock)("svg",Ie,Ue)}var Re=De(Te,[["render",Le]]);const ze=(0,r.defineComponent)({name:"SuccessFilled"}),We={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ve=(0,r.createElementVNode)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),He=[Ve];function $e(e,t,n,o,i,a){return(0,r.openBlock)(),(0,r.createElementBlock)("svg",We,He)}var Xe=De(ze,[["render",$e]]);const Ye=(0,r.defineComponent)({name:"InfoFilled"}),qe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_e=(0,r.createElementVNode)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),Ge=[_e];function Ze(e,t,n,o,i,a){return(0,r.openBlock)(),(0,r.createElementBlock)("svg",qe,Ge)}var Qe=De(Ye,[["render",Ze]]);const Je=(0,r.defineComponent)({name:"WarningFilled"}),Ke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},et=(0,r.createElementVNode)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),tt=[et];function nt(e,t,n,o,i,a){return(0,r.openBlock)(),(0,r.createElementBlock)("svg",Ke,tt)}var rt=De(Je,[["render",nt]]);const ot=(0,r.defineComponent)({name:"CircleCloseFilled"}),it={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},at=(0,r.createElementVNode)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),st=[at];function lt(e,t,n,o,i,a){return(0,r.openBlock)(),(0,r.createElementBlock)("svg",it,st)}var pt=De(ot,[["render",lt]]);(0,r.defineComponent)({name:"Loading"});(0,r.defineComponent)({name:"CircleCheck"});(0,r.defineComponent)({name:"CircleClose"});const ct=q([String,Object,Function]),ht={Close:Re,SuccessFilled:Xe,InfoFilled:Qe,WarningFilled:rt,CircleCloseFilled:pt},dt={success:Xe,warning:rt,error:pt,info:Qe},ut=["success","info","warning","error"],mt=Y({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:ct,default:""},id:{type:String,default:""},message:{type:q([String,Object,Function]),default:""},onClose:{type:q(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:ut,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),ft={destroy:()=>!0},gt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},bt=(0,r.defineComponent)({name:"ElMessage",components:{ElBadge:xe,ElIcon:Fe,...ht},props:mt,emits:ft,setup(e){const t=ge("message"),n=(0,r.ref)(!1),o=(0,r.ref)(e.type?"error"===e.type?"danger":e.type:"info");let i;const a=(0,r.computed)((()=>{const n=e.type;return{[t.bm("icon",n)]:n&&dt[n]}})),s=(0,r.computed)((()=>e.icon||dt[e.type]||"")),l=(0,r.computed)((()=>({top:`${e.offset}px`,zIndex:e.zIndex})));function p(){e.duration>0&&({stop:i}=k((()=>{n.value&&h()}),e.duration))}function c(){null==i||i()}function h(){n.value=!1}function d({code:e}){e===gt.esc?n.value&&h():p()}return(0,r.onMounted)((()=>{p(),n.value=!0})),(0,r.watch)((()=>e.repeatNum),(()=>{c(),p()})),ae(document,"keydown",d),{ns:t,typeClass:a,iconComponent:s,customStyle:l,visible:n,badgeType:o,close:h,clearTimer:c,startTimer:p}}}),yt=["id"],Ct=["innerHTML"];function vt(e,t,n,o,i,a){const s=(0,r.resolveComponent)("el-badge"),l=(0,r.resolveComponent)("el-icon"),p=(0,r.resolveComponent)("close");return(0,r.openBlock)(),(0,r.createBlock)(r.Transition,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[2]||(t[2]=t=>e.$emit("destroy"))},{default:(0,r.withCtx)((()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",{id:e.id,class:(0,r.normalizeClass)([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:(0,r.normalizeStyle)(e.customStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.startTimer&&e.startTimer(...t))},[e.repeatNum>1?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,value:e.repeatNum,type:e.badgeType,class:(0,r.normalizeClass)(e.ns.e("badge"))},null,8,["value","type","class"])):(0,r.createCommentVNode)("v-if",!0),e.iconComponent?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,class:(0,r.normalizeClass)([e.ns.e("icon"),e.typeClass])},{default:(0,r.withCtx)((()=>[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.iconComponent)))])),_:1},8,["class"])):(0,r.createCommentVNode)("v-if",!0),(0,r.renderSlot)(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(" Caution here, message could've been compromised, never use user's input as message "),(0,r.createElementVNode)("p",{class:(0,r.normalizeClass)(e.ns.e("content")),innerHTML:e.message},null,10,Ct)],2112)):((0,r.openBlock)(),(0,r.createElementBlock)("p",{key:0,class:(0,r.normalizeClass)(e.ns.e("content"))},(0,r.toDisplayString)(e.message),3))])),e.showClose?((0,r.openBlock)(),(0,r.createBlock)(l,{key:2,class:(0,r.normalizeClass)(e.ns.e("closeBtn")),onClick:(0,r.withModifiers)(e.close,["stop"])},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(p)])),_:1},8,["class","onClick"])):(0,r.createCommentVNode)("v-if",!0)],46,yt),[[r.vShow,e.visible]])])),_:3},8,["name","onBeforeLeave"])}var At=de(bt,[["render",vt],["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);const wt=(0,r.ref)(0),xt=()=>{const e=K("zIndex",2e3),t=(0,r.computed)((()=>e.value+wt.value)),n=()=>(wt.value++,t.value);return{initialZIndex:e,currentZIndex:t,nextZIndex:n}},Ot=[];let Bt=1;const Et=function(e={},t){if(!S)return{close:()=>{}};if(j(ne.max)&&Ot.length>=ne.max)return{close:()=>{}};if(!(0,r.isVNode)(e)&&L(e)&&e.grouping&&!(0,r.isVNode)(e.message)&&Ot.length){const t=Ot.find((t=>{var n,r,o;return`${null!=(r=null==(n=t.vm.props)?void 0:n.message)?r:""}`===`${null!=(o=e.message)?o:""}`}));if(t)return t.vm.component.props.repeatNum+=1,t.vm.component.props.type=(null==e?void 0:e.type)||"info",{close:()=>h.component.proxy.visible=!1}}(U(e)||(0,r.isVNode)(e))&&(e={message:e});let n=e.offset||20;Ot.forEach((({vm:e})=>{var t;n+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),n+=16;const{nextZIndex:o}=xt(),i="message_"+Bt++,a=e.onClose,s={zIndex:o(),...e,offset:n,id:i,onClose:()=>{St(i,a)}};let l=document.body;Ee(e.appendTo)?l=e.appendTo:U(e.appendTo)&&(l=document.querySelector(e.appendTo)),Ee(l)||(Z("ElMessage","the appendTo option is not an HTMLElement. Falling back to document.body."),l=document.body);const p=document.createElement("div");p.className=`container_${i}`;const c=s.message,h=(0,r.createVNode)(At,s,N(c)?{default:c}:(0,r.isVNode)(c)?{default:()=>c}:null);return h.appContext=t||Et._context,h.props.onDestroy=()=>{(0,r.render)(null,p)},(0,r.render)(h,p),Ot.push({vm:h}),l.appendChild(p.firstElementChild),{close:()=>h.component.proxy.visible=!1}};function St(e,t){const n=Ot.findIndex((({vm:t})=>e===t.component.props.id));if(-1===n)return;const{vm:r}=Ot[n];if(!r)return;null==t||t(r);const o=r.el.offsetHeight;Ot.splice(n,1);const i=Ot.length;if(!(i<1))for(let a=n;a<i;a++){const e=Number.parseInt(Ot[a].vm.el.style["top"],10)-o-16;Ot[a].vm.component.props.offset=e}}function jt(){var e;for(let t=Ot.length-1;t>=0;t--){const n=Ot[t].vm.component;null==(e=null==n?void 0:n.proxy)||e.close()}}ut.forEach((e=>{Et[e]=(t={},n)=>((U(t)||(0,r.isVNode)(t))&&(t={message:t}),Et({...t,type:e},n))})),Et.closeAll=jt,Et._context=null;const Mt=we(Et,"$message");var Pt=o(918);const kt=function(e){return new Promise((t=>{(0,Pt.getData)(e,(function(){let e=(0,Pt.getTag)(this,"Orientation");t(e)}))}))},Ft=function(e,t){const n=document.createElement("canvas"),r=n.getContext("2d"),o=e.targetWidth||e.width,i=e.targetHeight||e.height;return 6===t?(n.width=i,n.height=o,r.translate(n.width/2,n.height/2),r.rotate(Math.PI/180*90),r.drawImage(e,-o/2,-i/2,n.height,n.width)):(n.width=o,n.height=i,r.drawImage(e,0,0,n.width,n.height)),new Promise((e=>{e(n)}))},Dt=function(e,t,n,r){let o=e,i=t;const a=function(){o=n,i=Math.round(n*(t/e))},s=function(){i=r,o=Math.round(r*(e/t))};return n&&r?(e>n||t>r)&&(e/t>n/r?a():s()):n?a():r&&s(),{width:o,height:i}},Tt=function(e,t){const n=Object.assign({maxWidth:null,maxHeight:null,ratio:2,outType:"base64"},t||{});return new Promise(((t,r)=>{0===e.type.indexOf("image/")?kt(e).then((r=>{let o=new FileReader;o.onload=function(e){let o=e.target.result,i=document.createElement("img");i.onload=function(){if(n.maxWidth||n.maxHeight){let e;6===r?(e=Dt(i.height,i.width,n.maxWidth,n.maxHeight),i.targetWidth=e.height,i.targetHeight=e.width):(e=Dt(i.width,i.height,n.maxWidth,n.maxHeight),i.targetWidth=e.width,i.targetHeight=e.height)}Ft(i,r).then((e=>{"blob"===n.outType?e.toBlob(t,"image/jpeg",n.ratio):t(e.toDataURL("image/jpeg",n.ratio))}))},i.src=o},o.readAsDataURL(e)})).catch((e=>{r(e)})):r("非图片文件不支持压缩")}))};var It=o(129),Nt=o.n(It);o(663);let Ut;const Lt=!1,Rt=function(e){return e.match(/\.jpg|\.jpeg$/)?e:e+".jpg"},zt={"t-image":[".jpg",".jpeg",".png",".gif",".bmp",".webp"],"t-video":[".mp4",".rmvb",".avi",".mov",".3gp",".webm"],"t-audio":[".wav",".mp3",".ogg",".acc"],"t-word":[".docx",".doc"],"t-excel":[".xlsx",".xls"],"t-ppt":[".ppt",".pptx"],"t-document":[".pdf","t-word","t-excel","t-ppt"],"t-zip":[".zip",".rar"]},Wt={props:{modelValue:{type:Array,required:!1,default(){return[]}},triggerId:{type:String,required:!1,default:"upload_image_trigger"+parseInt(1e8*Math.random())},limitSize:{type:Number,required:!1,default(){return 104857600}},imgCompress:{type:Boolean,required:!1,default(){return!0}},imgCompressOption:{type:Object,required:!1,default(){return{maxWidth:1e3,maxHeight:1e3}}},imgCrop:{type:Boolean,required:!1,default(){return!1}},imgCropOption:{type:Object,required:!1,default(){return{ratio:1,minWidth:0,minHeight:0,maxWidth:1e3,maxHeight:1e3}}},uploadMethod:{type:Function,required:!1},responseTransfer:{type:Function,required:!1,default(e){return e}}},data(){return{dialogVisible:!1,cropResult:null,fileListFinnal:[],controller:null,globalOption:{}}},computed:{acceptFinnal(){if(this.$attrs.accept&&-1!==this.$attrs.accept.indexOf("t-")){const e=this.$attrs.accept.split(",");let t=[];return e.forEach((e=>{t=t.concat(this.getExtByType(e))})),t.join(",")}return this.$attrs.accept||"*"},propsFinnal(){const e=e=>-1!==Object.keys(this.globalOption).indexOf(e)?this.globalOption[e]:this.$props[e];let t={};return Object.keys(this.$props).forEach((n=>{t[n]=e(n)})),t}},watch:{modelValue:{handler(e){this.fileListFinnal=this.$attrs.fileList||e||[],this.$refs.myupload&&(this.$refs.myupload.uploadFiles=e.filter((t=>-1!==e.findIndex((e=>e.uid===t.uid)))))},deep:!0,immediate:!0}},methods:{getExtByType(e){const t=Object.assign({},zt,this.globalOption.quickType||{});if(e&&Array.isArray(t[e])){let n=[],r=[];return t[e].forEach((e=>{0===e.indexOf("t-")?n.push(e):r.push(e)})),n.length&&n.forEach((e=>{r=r.concat(this.getExtByType(e))})),r}if(e&&e.split)return[e.toLowerCase()]},handleBeforeUpload:function(e){return e.size>this.propsFinnal.limitSize?(Mt({message:"文件大小超出限制",type:"warning"}),!1):"*"!==this.acceptFinnal&&-1===this.acceptFinnal.indexOf(e.name.substring(e.name.lastIndexOf(".")).toLowerCase())?(Mt({message:"文件格式不正确",type:"warning"}),!1):"function"===typeof this.$attrs["before-upload"]?this.$attrs["before-upload"](e):!this.globalOption||"function"!==typeof this.globalOption.beforeUpload||this.globalOption.beforeUpload(e)},handleonExceed:function(e,t){"function"===typeof this.$attrs["on-exceed"]?this.$attrs["on-exceed"](e,t):this.globalOption&&"function"===typeof this.globalOption.onExceed&&this.globalOption.onExceed(e,t)},handleChange:function(e,t){const n=t.filter((e=>"success"===e.status));n.length===t.length&&this.$emit("update:modelValue",n.map((e=>{let t=e.response?this.propsFinnal.responseTransfer(e.response):e;return t.uid=e.uid,t.status=e.status,t}))),"function"===typeof this.$attrs["on-change"]&&this.$attrs["on-change"](e,t)},handleProgress(e){"function"===typeof this.$attrs["on-progress"]&&(e.total>0&&(e.percent=e.loaded/e.total*100),this.$attrs["on-progress"](e))},handleRemove:function(e,t){this.$emit("update:modelValue",t.map((e=>{let t=e.response?this.propsFinnal.responseTransfer(e.response):e;return t.uid=e.uid,t}))),"function"===typeof this.$attrs["on-remove"]&&this.$attrs["on-remove"](e,t)},customUpload:async function(e){if(!this.globalOption&&!this.globalOption.uploadMethod&&!this.propsFinnal.uploadMethod)return console.warn("Uploader: The required configuration [uploadMethod] is missing!");const t=this.propsFinnal.uploadMethod||this.globalOption.uploadMethod;if("function"!==typeof t)return console.warn("Uploader: [uploadMethod] must be a Function!");const n=e.file.type;Lt&&console.log("uploadedFileType",n);let r=e.file,o=e.file.name;if(0===n.indexOf("image/"))if(this.propsFinnal.imgCrop){this.cropResult=null,this.dialogVisible=!0;const t=await new Promise((t=>{let n=new FileReader;n.onload=e=>{let t=e.target.result,n=this.$refs.CropperImg;n.src=t,Ut&&Ut.destroy(),Ut=new(Nt())(n,{viewMode:1,dragMode:"none",movable:!1,zoomOnTouch:!1,zoomOnWheel:!1,toggleDragModeOnDblclick:!1,aspectRatio:this.propsFinnal.imgCropOption.ratio})},n.readAsDataURL(e.file),this.$watch("cropResult",t)}));t&&(Lt&&console.log("imgCrop",t),r=t,o=Rt(o),this.cropperMethod("close"))}else if(this.propsFinnal.imgCompress){const t=await Tt(e.file,Object.assign({},this.propsFinnal.imgCompressOption,{outType:"blob"}));Lt&&console.log("imgCompress",t),r=t,o=Rt(o)}return Lt&&console.log("upload params",o,r),this.controller=new AbortController,t(r,o,{onUploadProgress:this.handleProgress,signal:this.controller.signal}).then((e=>e.data))},cropperMethod(e){switch(e){case"save":Ut.getCroppedCanvas({minWidth:this.propsFinnal.imgCropOption.minWidth,minHeight:this.propsFinnal.imgCropOption.minHeight,maxWidth:this.propsFinnal.imgCropOption.maxWidth||1e3,maxHeight:this.propsFinnal.imgCropOption.maxHeight||1e3,imageSmoothingQuality:"medium"}).toBlob((e=>{this.cropResult=e}),"image/jpeg");break;case"close":if(this.dialogVisible=!1,Ut&&Ut.destroy(),!this.cropResult){const e=[].concat(this.modelValue);e.pop(),this.$emit("update:modelValue",e)}break;case"rotateLeft":Ut.rotate(-90);break;case"rotateRight":Ut.rotate(90);break;case"scaleX":Ut.scaleX(-1);break;case"scaleY":Ut.scaleY(-1);break;case"reset":Ut.reset();break;default:console.warn("cropperMethod 参数错误: ",e)}},clearFiles(){this.$refs.myupload.clearFiles()},abort(){this.controller.abort()},submit(){this.$refs.myupload.submit()}},created(){this.globalOption=this.$UploaderOption||{}}};o(618);var Vt=o(744);const Ht=(0,Vt.Z)(Wt,[["render",B],["__scopeId","data-v-4bedf15c"]]),$t=Ht,Xt={install:function(e,t){e.config.globalProperties.$UploaderOption=t||{},e.component("uploader",$t)}},Yt=Xt})(),i=i["default"],i})()));
//# sourceMappingURL=index.umd.min.js.map
(function(e){function t(t){for(var a,n,l=t[0],p=t[1],s=t[2],d=0,c=[];d<l.length;d++)n=l[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&c.push(o[n][0]),o[n]=0;for(a in p)Object.prototype.hasOwnProperty.call(p,a)&&(e[a]=p[a]);u&&u(t);while(c.length)c.shift()();return i.push.apply(i,s||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,l=1;l<r.length;l++){var p=r[l];0!==o[p]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},o={app:0},i=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/el-upload/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],p=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=p;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("3ebb")},"3ebb":function(e,t,r){var a=r("e31a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=r("499e").default;o("61bc0355",a,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,r){"use strict";r.r(t);var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("label",[e._v(" 切换为横向 ")]),r("div",[r("elUpload")],1),e._m(0)])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",{staticClass:"foot"},[r("p",[e._v("© 2022 - 3022 Author "),r("a",{attrs:{href:"https://refined-x.com/",target:"_blank"}},[e._v("雅X共赏")]),e._v(" Github "),r("a",{attrs:{href:"https://github.com/tower1229/el-upload",target:"_blank"}},[e._v("el-upload")]),e._v(" Npm "),r("a",{attrs:{href:"https://github.com/tower1229/el-upload",target:"_blank"}},[e._v("@cutting-mat/el-upload")])])])}],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-upload",{attrs:{action:"","show-file-list":e.showFileList,accept:e.actualAccept,data:e.data,"list-type":e.listType,"file-list":e.fileList,"before-upload":e.handleBeforeUpload,"http-request":e.customUpload,disabled:e.disabled,multiple:e.multiple,limit:e.limit,"on-exceed":e.handleExceed}},[r("div",{attrs:{id:e.triggerId}},[e._t("default",(function(){return[r("el-button",{attrs:{size:"small",type:"primary",disabled:e.disabled}},[e._v(" 点击上传 ")])]}))],2)])},l=[],p=r("0b65");const s={mock:"http://rap2api.taobao.org/app/mock/223572",dev:"http://retire.kaifa/japi",test:"http://test.com/api",master:"//master.com/api"},u={"dev.com":s.dev,"test.com":s.test,"master.com":s.master},d=u[window.location.host]||s.dev;var c={baseURL:d,timeout:1e4,headers:{"Content-Type":"application/json"}};const f=p["a"].create(c),h=e=>f.post("/file/upload/base64",e),m=e=>f.post("/file/upload",e,{headers:{"Content-Type":"multipart/form-data"}}),b=e=>{let t=e.lastIndexOf("."),r="";return-1!=t&&(r=e.substring(t+1)),r.toLowerCase()},g={"t-image":[".jpg",".jpeg",".png",".gif",".bmp",".tif",".webp"],"t-video":[".mp4",".rmvb",".avi",".mov","3.gp"],"t-word":[".docx",".doc"],"t-excel":[".xlsx",".xls"],"t-ppt":[".ppt",".pptx"],"t-document":[".pdf","t-word","t-excel","t-ppt"],"t-zip":[".zip",".ar"]},v=e=>{if(e&&Array.isArray(g[e])){let t=[],r=[];return g[e].forEach(e=>{0===e.indexOf("t-")?t.push(e):r.push(e)}),t.length&&t.forEach(e=>{r=r.concat(v(e))}),r}if(e&&e.split)return[e.toLowerCase()]};var y=r("af90"),w={props:{multiple:{type:Boolean,required:!1,default:!1},data:{type:Object,required:!1,default(){return{}}},name:{type:String,required:!1,default:"file"},showFileList:{type:Boolean,required:!1,default:!0},accept:{type:String,required:!1,default:"*"},listType:{type:String,required:!1,default:"text"},fileList:{type:Array,required:!1,default(){return[]}},disabled:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:9},beforeUpload:{type:Function,required:!1,default(){return!0}},triggerId:{type:String,required:!1,default:"upload_image_trigger"+parseInt(1e8*Math.random())},imgCompress:{type:Boolean,required:!1,default:!0},imgCompressOption:{type:Object,required:!1,default(){return{width:1e3,height:1e3}}},uploadFunc:{type:Function,required:!1,default:m},uploadBase64Func:{type:Function,required:!1,default:h},limitSize:{type:Number,required:!1,default:104857600}},computed:{actualAccept(){if(-1!==this.accept.indexOf("t-")){const e=this.accept.split(",");let t=[];return e.forEach(e=>{t=t.concat(v(e))}),t.join(",")}return this.accept}},methods:{handleExceed(){this.$emit("exceed")},handleSuccess:function(e){this.$emit("success",e.data)},handleError:function(e){this.$emit("error",e)},handleBeforeUpload:function(e){const t=b(e.name),r=this.actualAccept.replace(/\./g,"").split(",");return-1===r.findIndex(e=>"*"===e||e===t)?(this.$message.warning("文件格式错误"),!1):e.size>this.limitSize?(this.$message.warning("文件超出最大限制"),!1):e.name.length>500?(this.$message.warning("文件名不得超过500字符"),!1):this.beforeUpload(e)},customUpload:function(e){if(this.imgCompress&&0===e.file.type.indexOf("image/"))Object(y["a"])(e.file,this.imgCompressOption).then(t=>{const r=e.file.name.replace(/\.[^.]+\w+$/,".png");t&&r?this.uploadBase64Func({base64:t,name:r}).then(e=>{this.handleSuccess(e.data)}).catch(e=>{this.handleError(e)}):console.warn("图片压缩error",t,r)});else{let t=new FormData;t.append(this.name,e.file),Object.keys(this.data).forEach(e=>{t.append(e,this.data[e])}),this.uploadFunc(t).then(e=>{this.handleSuccess(e.data)}).catch(e=>{this.handleError(e)})}}}},x=w,_=r("2877"),O=Object(_["a"])(x,n,l,!1,null,"20726fb8",null),j=O.exports,q={name:"el-upload",components:{elUpload:j},data(){return{data:{}}},methods:{}},S=q,k=(r("034f"),Object(_["a"])(S,o,i,!1,null,null,null)),E=k.exports,$=r("5c96"),F=r.n($);r("0fae");a["default"].use(F.a),a["default"].config.productionTip=!1,new a["default"]({render:e=>e(E)}).$mount("#app")},e31a:function(e,t,r){var a=r("24fb");t=a(!1),t.push([e.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px}#app .avat{border-radius:2em;border-width:2px}#app .name{font-weight:700}#app .rootNode .name{color:red}.foot{position:fixed;left:0;bottom:0;width:100%;background:#333;padding:24px;overflow:hidden;color:#999;font-size:14px;text-align:center}.foot a{color:#fff;margin:0 .5em}",""]),e.exports=t}});
//# sourceMappingURL=app.66621bda.js.map